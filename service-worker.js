(function(){var t={624:function(t,e,n){!function(e){t.exports=e()}((function(){var t,e,r;return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){var n=e[s][1][t];return i(n||t)}),u,u.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,e,n){"use strict";var r;try{throw new Error}catch(f){r=f}var i=t("./schedule"),o=t("./queue");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=i}function a(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function l(t){this._normalQueue._pushOne(t),this._queueTick()}function u(t){while(t.length()>0)h(t)}function h(t){var e=t.shift();if("function"!==typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}s.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!==typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(f){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.prototype.invokeLater=a,s.prototype.invoke=c,s.prototype.settlePromises=l,s.prototype._drainQueues=function(){u(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,u(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},e.exports=s,e.exports.firstLineError=r},{"./queue":26,"./schedule":29}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),u=new t(e);u._propagateFrom(this,1);var h=this._target();if(u._setBoundTo(l),l instanceof t){var f={promiseRejectionQueued:!1,promise:u,target:h,bindingPromise:l};h._then(e,s,void 0,u,f),l._then(a,c,void 0,u,f),u._setOnCancel(l)}else u._resolveCallback(h);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;function i(){try{Promise===o&&(Promise=r)}catch(t){}return o}"undefined"!==typeof Promise&&(r=Promise);var o=t("./promise")();o.noConflict=i,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n,r=t("./util"),i=r.canEvaluate;r.isIdentifier;function o(t,n){var i;if(null!=t&&(i=t[n]),"function"!==typeof i){var o="Object "+r.classString(t)+" has no method '"+r.toString(n)+"'";throw new e.TypeError(o)}return i}function s(t){var e=this.pop(),n=o(t,e);return n.apply(t,this)}function a(t){return t[this]}function c(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(s,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,r="number"===typeof t;if(r)e=c;else if(i){var o=n(t);e=null!==o?o:a}else e=a;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,c=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");var t=this,e=t;while(t._isCancellable()){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"===typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;function s(t,s,a){return function(c){var l=a._boundValue();t:for(var u=0;u<t.length;++u){var h=t[u];if(h===Error||null!=h&&h.prototype instanceof Error){if(c instanceof h)return i(s).call(l,c)}else if("function"===typeof h){var f=i(h).call(l,c);if(f===o)return f;if(f)return i(s).call(l,c)}else if(n.isObject(c)){for(var p=r(h),_=0;_<p.length;++_){var d=p[_];if(h[d]!=c[d])continue t}return i(s).call(l,c)}}return e}}return s}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(o())}function i(){if(e)return new r}function o(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,i=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=i,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=c,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=o,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,s,a,c,l=e._async,u=t("./errors").Warning,h=t("./util"),f=t("./es5"),p=h.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,v=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,y=null,g=null,m=!1,b=!(0==h.env("BLUEBIRD_DEBUG")),w=!(0==h.env("BLUEBIRD_WARNINGS")||!b&&!h.env("BLUEBIRD_WARNINGS")),C=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!b&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),k=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(w||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){var t=[];function n(){for(var e=0;e<t.length;++e)t[e]._notifyUnhandledRejection();r()}function r(){t.length=0}c=function(e){t.push(e),setTimeout(n,1)},f.defineProperty(e,"_unhandledRejectionCheck",{value:n}),f.defineProperty(e,"_unhandledRejectionClear",{value:r})})(),e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),c(this))},e.prototype._notifyUnhandledRejectionIsHandled=function(){tt("rejectionHandled",o,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),tt("unhandledRejection",s,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return $(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var n=e._getContext();s=h.contextBind(n,t)},e.onUnhandledRejectionHandled=function(t){var n=e._getContext();o=h.contextBind(n,t)};var j=function(){};e.longStackTraces=function(){if(l.haveItemsQueued()&&!ut.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ut.longStackTraces&&rt()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace,i=e.prototype._dereferenceTrace;ut.longStackTraces=!0,j=function(){if(l.haveItemsQueued()&&!ut.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,e.prototype._dereferenceTrace=i,n.deactivateLongStackTraces(),ut.longStackTraces=!1},e.prototype._captureStackTrace=V,e.prototype._attachExtraTrace=M,e.prototype._dereferenceTrace=B,n.activateLongStackTraces()}},e.hasLongStackTraces=function(){return ut.longStackTraces&&rt()};var E={unhandledrejection:{before:function(){var t=h.global.onunhandledrejection;return h.global.onunhandledrejection=null,t},after:function(t){h.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=h.global.onrejectionhandled;return h.global.onrejectionhandled=null,t},after:function(t){h.global.onrejectionhandled=t}}},R=function(){var t=function(t,e){if(!t)return!h.global.dispatchEvent(e);var n;try{return n=t.before(),!h.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"===typeof CustomEvent){var e=new CustomEvent("CustomEvent");return h.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r={detail:n,cancelable:!0},i=new CustomEvent(e,r);return f.defineProperty(i,"promise",{value:n.promise}),f.defineProperty(i,"reason",{value:n.reason}),t(E[e],i)}}if("function"===typeof Event){e=new Event("CustomEvent");return h.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new Event(e,{cancelable:!0});return r.detail=n,f.defineProperty(r,"promise",{value:n.promise}),f.defineProperty(r,"reason",{value:n.reason}),t(E[e],r)}}e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!0,n),t(E[e],r)}}catch(n){}return function(){return!1}}(),F=function(){return h.isNode?function(){return process.emit.apply(process,arguments)}:h.global?function(t){var e="on"+t.toLowerCase(),n=h.global[e];return!!n&&(n.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}();function x(t,e){return{promise:e}}var P={promiseCreated:x,promiseFulfilled:x,promiseRejected:x,promiseResolved:x,promiseCancelled:x,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:x},T=function(t){var e=!1;try{e=F.apply(null,arguments)}catch(r){l.throwLater(r),e=!0}var n=!1;try{n=R(t,P[t].apply(null,arguments))}catch(r){l.throwLater(r),n=!0}return n||e};function S(){return!1}function O(t,e,n){var r=this;try{t(e,n,(function(t){if("function"!==typeof t)throw new TypeError("onCancel must be a function, got: "+h.toString(t));r._attachCancellationCallback(t)}))}catch(i){return i}}function A(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?h.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function U(){return this._onCancelField}function L(t){this._onCancelField=t}function N(){this._cancellationParent=void 0,this._onCancelField=void 0}function q(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function I(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}e.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&j()),"warnings"in t){var n=t.warnings;ut.warnings=!!n,k=ut.warnings,h.isObject(n)&&"wForgottenReturn"in n&&(k=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!ut.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=N,e.prototype._propagateFrom=q,e.prototype._onCancel=U,e.prototype._setOnCancel=L,e.prototype._attachCancellationCallback=A,e.prototype._execute=O,H=q,ut.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!ut.monitoring?(ut.monitoring=!0,e.prototype._fireEvent=T):!t.monitoring&&ut.monitoring&&(ut.monitoring=!1,e.prototype._fireEvent=S)),"asyncHooks"in t&&h.nodeSupportsAsyncResource){var o=ut.asyncHooks,s=!!t.asyncHooks;o!==s&&(ut.asyncHooks=s,s?r():i())}return e},e.prototype._fireEvent=S,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var H=I;function D(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function V(){this._trace=new ct(this._peekContext())}function M(t,e){if(p(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=Y(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"__stackCleaned__",!0)}}}function B(){this._trace=void 0}function K(t,e,n,r,i){if(void 0===t&&null!==e&&k){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),c=X(a),l=c.length-1;l>=0;--l){var u=c[l];if(!d.test(u)){var h=u.match(v);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0){var f=c[0];for(l=0;l<a.length;++l)if(a[l]===f){l>0&&(s="\n"+a[l-1]);break}}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(p,!0,e)}}function W(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),$(n)}function $(t,n,r){if(ut.warnings){var i,o=new u(t);if(n)r._attachExtraTrace(o);else if(ut.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var s=Y(o);o.stack=s.message+"\n"+s.stack.join("\n")}T("warning",o)||Z(o,"",!0)}}function Q(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function G(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function z(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0;--a){var c=r[a];if(e[i]!==c)break;e.pop(),i--}e=r}}function X(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||y.test(r),o=i&&it(r);i&&!o&&(m&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function J(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||y.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function Y(t){var e=t.stack,n=t.toString();return e="string"===typeof e&&e.length>0?J(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:X(e)}}function Z(t,e,n){if("undefined"!==typeof console){var r;if(h.isObject(t)){var i=t.stack;r=e+g(i,t)}else r=e+String(t);"function"===typeof a?a(r,n):"function"!==typeof console.log&&"object"!==typeof console.log||console.log(r)}}function tt(t,e,n,r){var i=!1;try{"function"===typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){l.throwLater(o)}"unhandledRejection"===t?T(t,n,r)||i||Z(n,"Unhandled rejection "):T(t,r)}function et(t){var e;if("function"===typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"===typeof t.toString?t.toString():h.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+nt(e)+">, no stack trace)"}function nt(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function rt(){return"function"===typeof lt}var it=function(){return!1},ot=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function st(t){var e=t.match(ot);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function at(t,e){if(rt()){for(var n,r,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),s=-1,a=-1,c=0;c<i.length;++c){var l=st(i[c]);if(l){n=l.fileName,s=l.line;break}}for(c=0;c<o.length;++c){l=st(o[c]);if(l){r=l.fileName,a=l.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(it=function(t){if(_.test(t))return!0;var e=st(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function ct(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);lt(this,ct),e>32&&this.uncycle()}h.inherits(ct,Error),n.CapturedTrace=ct,ct.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;a<t-1?(c._parent=e[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var l=c._length+1,u=r-2;u>=0;--u)e[u]._length=l,l++;return}}}},ct.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();var e=Y(t),n=e.message,r=[e.stack],i=this;while(void 0!==i)r.push(X(i.stack.split("\n"))),i=i._parent;z(r),G(r),h.notEnumerableProp(t,"stack",Q(n,r)),h.notEnumerableProp(t,"__stackCleaned__",!0)}};var lt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"===typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():et(e)};if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){Error.stackTraceLimit+=6,y=t,g=e;var n=Error.captureStackTrace;return it=function(t){return _.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"===typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return y=/@/,g=e,m=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(o){r="stack"in o}return!("stack"in i)&&r&&"number"===typeof Error.stackTraceLimit?(y=t,g=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(o){t.stack=o.stack}Error.stackTraceLimit-=6}):(g=function(t,e){return"string"===typeof t?t:"object"!==typeof e&&"function"!==typeof e||void 0===e.name||void 0===e.message?et(e):e.toString()},null)}();"undefined"!==typeof console&&"undefined"!==typeof console.warn&&(a=function(t){console.warn(t)},h.isNode&&process.stderr.isTTY?a=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:h.isNode||"string"!==typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var ut={warnings:w,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return C&&e.longStackTraces(),{asyncHooks:function(){return ut.asyncHooks},longStackTraces:function(){return ut.longStackTraces},warnings:function(){return ut.warnings},cancellation:function(){return ut.cancellation},monitoring:function(){return ut.monitoring},propagateFromFunction:function(){return H},boundValueFunction:function(){return D},checkForgottenReturns:K,setBounds:at,warn:$,deprecated:W,CapturedTrace:ct,fireDomEvent:R,fireGlobalEvent:F}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function o(t,r){return n(t,r,e,e)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=o}},{}],12:[function(t,e,n){"use strict";var r,i,o=t("./es5"),s=o.freeze,a=t("./util"),c=a.inherits,l=a.notEnumerableProp;function u(t,e){function n(r){if(!(this instanceof n))return new n(r);l(this,"message","string"===typeof r?r:e),l(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(n,Error),n}var h=u("Warning","warning"),f=u("CancellationError","cancellation error"),p=u("TimeoutError","timeout error"),_=u("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(b){r=u("TypeError","type error"),i=u("RangeError","range error")}for(var d="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<d.length;++v)"function"===typeof Array.prototype[d[v]]&&(_.prototype[d[v]]=Array.prototype[d[v]]);o.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype["isOperational"]=!0;var y=0;function g(t){if(!(this instanceof g))return new g(t);l(this,"name","OperationalError"),l(this,"message",t),this.cause=t,this["isOperational"]=!0,t instanceof Error?(l(this,"message",t.message),l(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}_.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return y--,e},c(g,Error);var m=Error["__BluebirdErrorTypes__"];m||(m=s({CancellationError:f,TimeoutError:p,OperationalError:g,RejectionError:g,AggregateError:_}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},l=function(t,e,n){return t[e]=n.value,t},u=function(t){return t},h=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},f=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:f,keys:a,names:a,defineProperty:l,getDescriptor:c,freeze:u,getPrototypeOf:h,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,s=i.errorObj,a=t("./catch_filter")(r);function c(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function l(t){this.finallyHandler=t}function u(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function h(){return p.call(this,this.promise._target()._settledValue())}function f(t){if(!u(this,t))return s.e=t,s}function p(t){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),t);if(c===r)return c;if(void 0!==c){i._setReturnedNonUndefined();var p=n(c,i);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var _=new o("late cancellation observer");return i._attachExtraTrace(_),s.e=_,s}p.isPending()&&p._attachCancellationCallback(new l(this))}return p._then(h,f,void 0,this,void 0)}}}return i.isRejected()?(u(this),s.e=t,s):(u(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},l.prototype._resultCancelled=function(){u(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!==typeof t?this.then():this._then(n,r,void 0,new c(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,p,p)},e.prototype.tap=function(t){return this._passThrough(t,1,p)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,p);var r,o=new Array(n-1),s=0;for(r=0;r<n-1;++r){var c=arguments[r];if(!i.isObject(c))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(c)));o[s++]=c}o.length=s;var l=arguments[r];return this._passThrough(a(o,l,this),1,void 0,p)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./errors"),c=a.TypeError,l=t("./util"),u=l.errorObj,h=l.tryCatch,f=[];function p(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===u){r._pushContext();var a=e.reject(u.e);return r._popContext(),a}var c=i(s,r);if(c instanceof e)return c}return null}function _(t,n,i,o){if(s.cancellation()){var a=new e(r),c=this._finallyPromise=new e(r);this._promise=a.lastly((function(){return c})),a._captureStackTrace(),a._setOnCancel(this)}else{var l=this._promise=new e(r);l._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"===typeof i?[i].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(_,o),_.prototype._isResolved=function(){return null===this._promise},_.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},_.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!==typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},_.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},_.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},_.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},_.prototype.promise=function(){return this._promise},_.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},_.prototype._continue=function(t){var n=this._promise;if(t===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||(o=p(o,this._yieldHandlers,this._promise),null!==o)){o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!==typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=_,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!==typeof t)throw new c("expecting a function but got "+l.classString(t));f.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!==typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj;e.join=function(){var t,e=arguments.length-1;e>0&&"function"===typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),c=a.tryCatch,l=a.errorObj,u=e._async;function h(t,n,r,i){this.constructor$(t),this._promise._captureStackTrace();var s=e._getContext();if(this._callback=a.contextBind(s,n),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0),a.isArray(t))for(var c=0;c<t.length;++c){var l=t[c];l instanceof e&&l.suppressUnhandledRejections()}}function f(t,n,i,o){if("function"!==typeof n)return r("expecting a function but got "+a.classString(n));var s=0;if(void 0!==i){if("object"!==typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+a.classString(i)));if("number"!==typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(i.concurrency)));s=i.concurrency}return s="number"===typeof s&&isFinite(s)&&s>=1?s:0,new h(t,n,s,o).promise()}a.inherits(h,n),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=-1*n-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var h=this._promise,f=this._callback,p=h._boundValue();h._pushContext();var _=c(f).call(p,t,n,o),d=h._popContext();if(s.checkForgottenReturns(_,d,null!==a?"Promise.filter":"Promise.map",h),_===l)return this._reject(_.e),!0;var v=i(_,this._promise);if(v instanceof e){v=v._target();var y=v._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);_=v._value()}r[n]=_}var g=++this._totalResolved;return g>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},h.prototype._drainQueue=function(){var t=this._queue,e=this._limit,n=this._values;while(t.length>0&&this._inFlight<e){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},h.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return f(this,t,e,null)},e.map=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!==typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!==typeof t)return i("expecting a function but got "+s.classString(t));var r,c=new e(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];r=s.isArray(l)?a(t).apply(u,l):a(t).call(u,l)}else r=a(t)();var h=c._popContext();return o.checkForgottenReturns(r,h,"Promise.try",c),c._resolveFromSyncValue(r),c},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors"),s=o.OperationalError,a=t("./es5");function c(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}var l=/^(?:name|message|stack|cause)$/;function u(t){var e;if(c(t)){e=new s(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=a.keys(t),i=0;i<n.length;++i){var o=n[i];l.test(o)||(e[o]=t[o])}return e}return r.markAsOriginatingFromRejection(t),t}function h(t,e){return function(n,r){if(null!==t){if(n){var o=u(i(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}e.exports=h},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function s(t,e){var s=this;if(!n.isArray(t))return a.call(s,t,e);var c=i(e).apply(s._boundValue(),[null].concat(t));c===o&&r.throwLater(c.e)}function a(t,e){var n=this,s=n._boundValue(),a=void 0===t?i(e).call(s,null):i(e).call(s,null,t);a===o&&r.throwLater(a.e)}function c(t,e){var n=this;if(!t){var s=new Error(t+"");s.cause=t,t=s}var a=i(e).call(n._boundValue(),t);a===o&&r.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=a;void 0!==e&&Object(e).spread&&(n=s),this._then(n,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,n){"use strict";e.exports=function(){var n=function(){return new b("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this._target())},i=function(t){return N.reject(new b(t))};function o(){}var s={},a=t("./util");a.setReflectHandler(r);var c=function(){var t=process.domain;return void 0===t?null:t},l=function(){return null},u=function(){return{domain:c(),async:null}},h=a.isNode&&a.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,f=function(){return{domain:c(),async:new h("Bluebird::Promise")}},p=a.isNode?u:l;a.notEnumerableProp(N,"_getContext",p);var _=function(){p=f,a.notEnumerableProp(N,"_getContext",f)},d=function(){p=u,a.notEnumerableProp(N,"_getContext",u)},v=t("./es5"),y=t("./async"),g=new y;v.defineProperty(N,"_async",{value:g});var m=t("./errors"),b=N.TypeError=m.TypeError;N.RangeError=m.RangeError;var w=N.CancellationError=m.CancellationError;N.TimeoutError=m.TimeoutError,N.OperationalError=m.OperationalError,N.RejectionError=m.OperationalError,N.AggregateError=m.AggregateError;var C=function(){},k={},j={},E=t("./thenables")(N,C),R=t("./promise_array")(N,C,E,i,o),F=t("./context")(N),x=F.create,P=t("./debuggability")(N,F,_,d),T=(P.CapturedTrace,t("./finally")(N,E,j)),S=t("./catch_filter")(j),O=t("./nodeback"),A=a.errorObj,U=a.tryCatch;function L(t,e){if(null==t||t.constructor!==N)throw new b("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!==typeof e)throw new b("expecting a function but got "+a.classString(e))}function N(t){t!==C&&L(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function q(t){this.promise._resolveCallback(t)}function I(t){this.promise._rejectCallback(t,!1)}function H(t){var e=new N(C);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),o=0;for(n=0;n<e-1;++n){var s=arguments[n];if(!a.isObject(s))return i("Catch statement predicate: expecting an object but got "+a.classString(s));r[o++]=s}if(r.length=o,t=arguments[n],"function"!==typeof t)throw new b("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},N.prototype.then=function(t,e){if(P.warnings()&&arguments.length>0&&"function"!==typeof t&&"function"!==typeof e){var n=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(n+=", "+a.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},N.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},N.prototype.spread=function(t){return"function"!==typeof t?i("expecting a function but got "+a.classString(t)):this.all()._then(t,void 0,void 0,k,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new R(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=e.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var e=new N(C);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=U(t)(O(e,n));return r===A&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},N.all=function(t){return new R(t).promise()},N.cast=function(t){var e=E(t);return e instanceof N||(e=new N(C),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var e=new N(C);return e._captureStackTrace(),e._rejectCallback(t,!0),e},N.setScheduler=function(t){if("function"!==typeof t)throw new b("expecting a function but got "+a.classString(t));return g.setScheduler(t)},N.prototype._then=function(t,e,n,r,i){var o=void 0!==i,s=o?i:new N(C),c=this._target(),l=c._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=p();if(0!==(50397184&l)){var h,f,_=c._settlePromiseCtx;0!==(33554432&l)?(f=c._rejectionHandler0,h=t):0!==(16777216&l)?(f=c._fulfillmentHandler0,h=e,c._unsetRejectionIsUnhandled()):(_=c._settlePromiseLateCancellationObserver,f=new w("late cancellation observer"),c._attachExtraTrace(f),h=e),g.invoke(_,c,{handler:a.contextBind(u,h),promise:s,receiver:r,value:f})}else c._addCallbacks(t,e,s,r,u);return s},N.prototype._length=function(){return 65535&this._bitField},N.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},N.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},N.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},N.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},N.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},N.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},N.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},N.prototype._isFinal=function(){return(4194304&this._bitField)>0},N.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},N.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},N.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},N.prototype._setAsyncGuaranteed=function(){if(!g.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},N.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},N.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==s)return void 0===e&&this._isBound()?this._boundValue():e},N.prototype._promiseAt=function(t){return this[4*t-4+2]},N.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},N.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},N.prototype._boundValue=function(){},N.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=s),this._addCallbacks(e,n,r,i,null)},N.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=s),this._addCallbacks(n,r,i,o,null)},N.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"===typeof t&&(this._fulfillmentHandler0=a.contextBind(i,t)),"function"===typeof e&&(this._rejectionHandler0=a.contextBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"===typeof t&&(this[s+0]=a.contextBind(i,t)),"function"===typeof e&&(this[s+1]=a.contextBind(i,e))}return this._setLength(o+1),o},N.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},N.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(n(),!1);var r=E(t,this);if(!(r instanceof N))return this._fulfill(t);e&&this._propagateFrom(r,2);var i=r._target();if(i!==this){var o=i._bitField;if(0===(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var c=new w("late cancellation observer");i._attachExtraTrace(c),this._reject(c)}}else this._reject(n())}},N.prototype._rejectCallback=function(t,e,n){var r=a.ensureErrorObject(t),i=r===t;if(!i&&!n&&P.warnings()){var o="a promise was rejected with a non-error: "+a.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},N.prototype._resolveFromExecutor=function(t){if(t!==C){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},N.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){var o;r._pushContext(),e===k?n&&"number"===typeof n.length?o=U(t).apply(this._boundValue(),n):(o=A,o.e=new b("cannot .spread() a non-array: "+a.classString(n))):o=U(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===j?r._reject(n):o===A?r._rejectCallback(o.e,!1):(P.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},N.prototype._target=function(){var t=this;while(t._isFollowing())t=t._followee();return t},N.prototype._followee=function(){return this._rejectionHandler0},N.prototype._setFollowee=function(t){this._rejectionHandler0=t},N.prototype._settlePromise=function(t,e,n,i){var s=t instanceof N,a=this._bitField,c=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof T&&n.isFinallyHandler()?(n.cancelPromise=t,U(e).call(n,i)===A&&t._reject(A.e)):e===r?t._fulfill(r.call(n)):n instanceof o?n._promiseCancelled(t):s||t instanceof R?t._cancel():n.cancel()):"function"===typeof e?s?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof o?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(c&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},N.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"===typeof e?n instanceof N?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof N&&n._reject(i)},N.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},N.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},N.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},N.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var r=n();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():g.settlePromises(this),this._dereferenceTrace())}},N.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return g.fatalError(t,a.isNode);(65535&e)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled()}},N.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},N.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},N.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},N.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!==typeof Symbol&&Symbol.toStringTag&&v.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){P.deprecated("Promise.defer","new Promise");var t=new N(C);return{promise:t,resolve:q,reject:I}},a.notEnumerableProp(N,"_makeSelfResolutionError",n),t("./method")(N,C,E,i,P),t("./bind")(N,C,E,P),t("./cancel")(N,R,i,P),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,R,E,C,g),N.Promise=N,N.version="3.7.2",t("./call_get.js")(N),t("./generators.js")(N,i,C,E,o,P),t("./map.js")(N,R,i,E,C,P),t("./nodeify.js")(N),t("./promisify.js")(N,C),t("./props.js")(N,R,E,i),t("./race.js")(N,C,E,i),t("./reduce.js")(N,R,i,E,C,P),t("./settle.js")(N,R,P),t("./some.js")(N,R,i),t("./timers.js")(N,C,P),t("./using.js")(N,i,E,x,C,P),t("./any.js")(N),t("./each.js")(N,C),t("./filter.js")(N,C),a.toFastProperties(N),a.toFastProperties(N.prototype),H({a:1}),H({b:2}),H({c:3}),H(1),H((function(){})),H(void 0),H(!1),H(new N(C)),P.setBounds(y.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");s.isArray;function a(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function c(t){var r=this._promise=new e(n);t instanceof e&&(r._propagateFrom(t,3),t.suppressUnhandledRejections()),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(c,o),c.prototype.length=function(){return this._length},c.prototype.promise=function(){return this._promise},c.prototype._init=function t(n,o){var c=r(this._values,this._promise);if(c instanceof e){c=c._target();var l=c._bitField;if(this._values=c,0===(50397184&l))return this._promise._setAsyncGuaranteed(),c._then(t,this._reject,void 0,this,o);if(0===(33554432&l))return 0!==(16777216&l)?this._reject(c._reason()):this._cancel();c=c._value()}if(c=s.asArray(c),null!==c)0!==c.length?this._iterate(c):-5===o?this._resolveEmptyArray():this._resolve(a(o));else{var u=i("expecting an array or an iterable object but got "+s.classString(c)).reason();this._promise._rejectCallback(u,!1)}},c.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var c=r(t[a],i);c instanceof e?(c=c._target(),s=c._bitField):s=null,o?null!==s&&c.suppressUnhandledRejections():null!==s?0===(50397184&s)?(c._proxy(this,a),this._values[a]=c):o=0!==(33554432&s)?this._promiseFulfilled(c._value(),a):0!==(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()},c.prototype._isResolved=function(){return null===this._values},c.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},c.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},c.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},c.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},c.prototype._promiseCancelled=function(){return this._cancel(),!0},c.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},c.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},c.prototype.shouldCopyValues=function(){return!0},c.prototype.getActualLength=function(t){return t},c}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},i=t("./util"),o=t("./nodeback"),s=i.withAppended,a=i.maybeWrapAsError,c=i.canEvaluate,l=t("./errors").TypeError,u="Async",h={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+f.join("|")+")$"),_=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!p.test(t)}function v(t){try{return!0===t.__isPromisified__}catch(e){return!1}}function y(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,h);return!!r&&v(r)}function g(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new l("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function m(t,e,n,r){for(var o=i.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var c=o[a],l=t[c],u=r===_||_(c,l,t);"function"!==typeof l||v(l)||y(t,c,e)||!r(c,l,t,u)||s.push(c,l)}return g(s,e,n),s}var b,w=function(t){return t.replace(/([$])/,"\\$")};function C(t,c,l,u,h,f){var p=function(){return this}(),_=t;function d(){var i=c;c===r&&(i=this);var l=new e(n);l._captureStackTrace();var u="string"===typeof _&&this!==p?this[_]:t,h=o(l,f);try{u.apply(i,s(arguments,h))}catch(d){l._rejectCallback(a(d),!0,!0)}return l._isFateSealed()||l._setAsyncGuaranteed(),l}return"string"===typeof _&&(t=u),i.notEnumerableProp(d,"__isPromisified__",!0),d}var k=c?b:C;function j(t,e,n,o,s){for(var a=new RegExp(w(e)+"$"),c=m(t,e,a,n),l=0,u=c.length;l<u;l+=2){var h=c[l],f=c[l+1],p=h+e;if(o===k)t[p]=k(h,r,h,f,e,s);else{var _=o(f,(function(){return k(h,r,h,f,e,s)}));i.notEnumerableProp(_,"__isPromisified__",!0),t[p]=_}}return i.toFastProperties(t),t}function E(t,e,n){return k(t,e,void 0,t,null,n)}e.promisify=function(t,e){if("function"!==typeof t)throw new l("expecting a function but got "+i.classString(t));if(v(t))return t;e=Object(e);var n=void 0===e.context?r:e.context,o=!!e.multiArgs,s=E(t,n,o);return i.copyDescriptors(t,s,d),s},e.promisifyAll=function(t,e){if("function"!==typeof t&&"object"!==typeof t)throw new l("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!==typeof r&&(r=u);var o=e.filter;"function"!==typeof o&&(o=_);var s=e.promisifier;if("function"!==typeof s&&(s=k),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=i.inheritedDataKeys(t),c=0;c<a.length;++c){var h=t[a[c]];"constructor"!==a[c]&&i.isClass(h)&&(j(h.prototype,r,o,s,n),j(h,r,o,s,n))}return j(t,r,o,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,s=t("./util"),a=s.isObject,c=t("./es5");"function"===typeof Map&&(o=Map);var l=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}(),u=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],s=t[r];e.set(i,s)}return e};function h(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=l(t),n=!0;else{var r=c.keys(t),i=r.length;e=new Array(2*i);for(var s=0;s<i;++s){var a=r[s];e[s]=t[a],e[s+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function f(t){var n,o=r(t);return a(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new h(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,n),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=u(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();o<s;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return f(this)},e.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=function(t){return t.then((function(e){return a(e,t)}))};function a(t,a){var c=r(t);if(c instanceof e)return s(c);if(t=o.asArray(t),null===t)return i("expecting an array or an iterable object but got "+o.classString(t));var l=new e(n);void 0!==a&&l._propagateFrom(a,3);for(var u=l._fulfill,h=l._reject,f=0,p=t.length;f<p;++f){var _=t[f];(void 0!==_||f in t)&&e.cast(_)._then(u,h,void 0,l,null)}return l}e.race=function(t){return a(t,void 0)},e.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),c=a.tryCatch;function l(t,n,r,i){this.constructor$(t);var s=e._getContext();this._fn=a.contextBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,n,i){if("function"!==typeof e)return r("expecting a function but got "+a.classString(e));var o=new l(t,e,n,i);return o.promise()}function f(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n,r=this.array,i=r._promise,o=c(r._fn);i._pushContext(),n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length),n instanceof e&&(r._currentCancellable=n);var a=i._popContext();return s.checkForgottenReturns(n,a,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}a.inherits(l,n),l.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},l.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},l.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},l.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n;for(var o=r;o<i;++o){var s=t[o];s instanceof e&&s.suppressUnhandledRejections()}if(!n.isRejected())for(;r<i;++r){var a={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(f,void 0,void 0,a,void 0),0===(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,r){return h(t,e,n,r)}}},{"./util":36}],29:[function(t,e,r){"use strict";var i,o=t("./util"),s=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=o.getNativePromise();if(o.isNode&&"undefined"===typeof MutationObserver){var c=n.g.setImmediate,l=process.nextTick;i=o.isRecentNode?function(t){c.call(n.g,t)}:function(t){l.call(process,t)}}else if("function"===typeof a&&"function"===typeof a.resolve){var u=a.resolve();i=function(t){u.then(t)}}else i="undefined"===typeof MutationObserver||"undefined"!==typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?"undefined"!==typeof setImmediate?function(t){setImmediate(t)}:"undefined"!==typeof setTimeout?function(t){setTimeout(t,0)}:s:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver((function(){t.classList.toggle("foo"),n=!1}));i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver((function(){r.disconnect(),n()}));r.observe(t,e),o()}}();e.exports=i},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection,o=t("./util");function s(t){this.constructor$(t)}o.inherits(s,n),s.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},s.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},e.allSettled=function(t){return new s(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,s=t("./errors").AggregateError,a=i.isArray,c={};function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function u(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(l,n),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==c&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return u(t,e)},e.prototype.some=function(t){return u(this,t)},e._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),i=r.errorObj,o=r.isObject;function s(t,r){if(o(t)){if(t instanceof e)return t;var s=c(t);if(s===i){r&&r._pushContext();var a=e.reject(s.e);return r&&r._popContext(),a}if("function"===typeof s){if(u(t)){a=new e(n);return t._then(a._fulfill,a._reject,void 0,a,null),a}return h(t,s,r)}}return t}function a(t){return t.then}function c(t){try{return a(t)}catch(e){return i.e=e,i}}var l={}.hasOwnProperty;function u(t){try{return l.call(t,"_promise0")}catch(e){return!1}}function h(t,o,s){var a=new e(n),c=a;s&&s._pushContext(),a._captureStackTrace(),s&&s._popContext();var l=!0,u=r.tryCatch(o).call(t,h,f);function h(t){a&&(a._resolveCallback(t),a=null)}function f(t){a&&(a._rejectCallback(t,l,!0),a=null)}return l=!1,a&&u===i&&(a._rejectCallback(u.e,!0,!0),a=null),c}return s}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,i){var o,c;return void 0!==i?(o=e.resolve(i)._then(a,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),c=setTimeout((function(){o._fulfill()}),+t),r.cancellation()&&o._setOnCancel(new s(c)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};e.prototype.delay=function(t){return c(t,this)};var l=function(t,e,n){var r;r="string"!==typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};function u(t){return clearTimeout(this.handle),t}function h(t){throw clearTimeout(this.handle),t}e.prototype.timeout=function(t,e){var n,i;t=+t;var o=new s(setTimeout((function(){n.isPending()&&l(n,e,i)}),t));return r.cancellation()?(i=this.then(),n=i._then(u,h,void 0,o,void 0),n._setOnCancel(o)):n=this._then(u,h,void 0,o,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),c=t("./errors").TypeError,l=t("./util").inherits,u=a.errorObj,h=a.tryCatch,f={};function p(t){setTimeout((function(){throw t}),0)}function _(t){var e=r(t);return e!==t&&"function"===typeof t._isDisposable&&"function"===typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function d(t,n){var i=0,s=t.length,a=new e(o);function c(){if(i>=s)return a._fulfill();var o=_(t[i++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(l){return p(l)}if(o instanceof e)return o._then(c,p,null,null,null)}c()}return c(),a}function v(t,e,n){this._data=t,this._promise=e,this._context=n}function y(t,e,n){this.constructor$(t,e,n)}function g(t){return v.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},v.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==f?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},v.isDisposer=function(t){return null!=t&&"function"===typeof t.resource&&"function"===typeof t.tryDispose},l(y,v),y.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},m.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[t-1];if("function"!==typeof o)return n("expecting a function but got "+a.classString(o));var c=!0;2===t&&Array.isArray(arguments[0])?(i=arguments[0],t=i.length,c=!1):(i=arguments,t--);for(var l=new m(t),f=0;f<t;++f){var p=i[f];if(v.isDisposer(p)){var _=p;p=p.promise(),p._setDisposable(_)}else{var y=r(p);y instanceof e&&(p=y._then(g,null,null,{resources:l,index:f},void 0))}l[f]=p}var b=new Array(l.length);for(f=0;f<b.length;++f)b[f]=e.resolve(l[f]).reflect();var w=e.all(b).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return u.e=n.error(),u;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}C._pushContext(),o=h(o);var r=c?o.apply(void 0,t):o(t),i=C._popContext();return s.checkForgottenReturns(r,i,"Promise.using",C),r})),C=w.lastly((function(){var t=new e.PromiseInspection(w);return d(l,t)}));return l.promise=C,C._setOnCancel(l),C},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"===typeof t)return new y(t,this,i());throw new c}}},{"./errors":12,"./util":36}],36:[function(t,e,r){"use strict";var i=t("./es5"),o="undefined"==typeof navigator,s={e:{}},a,c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void 0!==this?this:null;function l(){try{var t=a;return a=null,t.apply(this,arguments)}catch(e){return s.e=e,s}}function u(t){return a=t,l}var h=function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype};function f(t){return null==t||!0===t||!1===t||"string"===typeof t||"number"===typeof t}function p(t){return"function"===typeof t||"object"===typeof t&&null!==t}function _(t){return f(t)?new Error(R(t)):t}function d(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function v(t,e,n){if(!i.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function y(t,e,n){if(f(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(t,e,r),t}function g(t){throw t}var m=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(i.isES5){var n=Object.getOwnPropertyNames;return function(t){var r=[],o=Object.create(null);while(null!=t&&!e(t)){var s;try{s=n(t)}catch(u){return r}for(var a=0;a<s.length;++a){var c=s[a];if(!o[c]){o[c]=!0;var l=Object.getOwnPropertyDescriptor(t,c);null!=l&&null==l.get&&null==l.set&&r.push(c)}}t=i.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),b=/this\s*\.\s*\S+\s*=/;function w(t){try{if("function"===typeof t){var e=i.names(t.prototype),n=i.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=b.test(t+"")&&i.names(t).length>0;if(n||r||o)return!0}return!1}catch(s){return!1}}function C(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.foo}return r(),r(),t}var k=/^[a-z$_][a-z$_0-9]*$/i;function j(t){return k.test(t)}function E(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function R(t){try{return t+""}catch(e){return"[no string representation]"}}function F(t){return t instanceof Error||null!==t&&"object"===typeof t&&"string"===typeof t.message&&"string"===typeof t.name}function x(t){try{y(t,"isOperational",!0)}catch(e){}}function P(t){return null!=t&&(t instanceof Error["__BluebirdErrorTypes__"].OperationalError||!0===t["isOperational"])}function T(t){return F(t)&&i.propertyIsWritable(t,"stack")}var S=function(){return"stack"in new Error?function(t){return T(t)?t:new Error(R(t))}:function(t){if(T(t))return t;try{throw new Error(R(t))}catch(e){return e}}}();function O(t){return{}.toString.call(t)}function A(t,e,n){for(var r=i.names(t),o=0;o<r.length;++o){var s=r[o];if(n(s))try{i.defineProperty(e,s,i.getDescriptor(t,s))}catch(a){}}}var U=function(t){return i.isArray(t)?t:null};if("undefined"!==typeof Symbol&&Symbol.iterator){var L="function"===typeof Array.from?function(t){return Array.from(t)}:function(t){var e,n=[],r=t[Symbol.iterator]();while(!(e=r.next()).done)n.push(e.value);return n};U=function(t){return i.isArray(t)?t:null!=t&&"function"===typeof t[Symbol.iterator]?L(t):null}}var N="undefined"!==typeof process&&"[object process]"===O(process).toLowerCase(),q="undefined"!==typeof process&&!0,I;function H(t){return q?{NODE_ENV:"production",VUE_APP_REMOTE_CONNECTION_BACKEND_URL:"https://signaling.aepps.com",VUE_APP_VAPID_PUBLIC_KEY:"BJP4PnSPRizQofIOBhe8o-AlaElRYbp7Mi_nirXzPYkJPkZfu-ONL7M14Y2c_q9LfU1K3XUcwzfx3lNM_jBLJrc",VUE_APP_HOME_PAGE_URL:"https://registry.aepps.tech",VUE_APP_VERSION:"1.0.2",VUE_APP_SDK_VERSION:"11.0.1",BASE_URL:"/"}[t]:void 0}function D(){if("function"===typeof Promise)try{var t=new Promise((function(){}));if("[object Promise]"===O(t))return Promise}catch(e){}}function V(t,e){if(null===t||"function"!==typeof e||e===I)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var r=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=r,t[1]=this,n.runInAsyncScope.apply(n,t)}}return e}var M={setReflectHandler:function(t){I=t},isClass:w,isIdentifier:j,inheritedDataKeys:m,getDataPropertyOrDefault:v,thrower:g,isArray:i.isArray,asArray:U,notEnumerableProp:y,isPrimitive:f,isObject:p,isError:F,canEvaluate:o,errorObj:s,tryCatch:u,inherits:h,withAppended:d,maybeWrapAsError:_,toFastProperties:C,filledRange:E,toString:R,canAttachTrace:T,ensureErrorObject:S,originatesFromRejection:P,markAsOriginatingFromRejection:x,classString:O,copyDescriptors:A,isNode:N,hasEnvVariables:q,env:H,global:c,getNativePromise:D,contextBind:V};M.isRecentNode=M.isNode&&function(){var t;return process.versions&&process.versions.node?t=process.versions.node.split(".").map(Number):process.version&&(t=process.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),M.nodeSupportsAsyncResource=M.isNode&&function(){var e=!1;try{var n=t("async_hooks").AsyncResource;e="function"===typeof n.prototype.runInAsyncScope}catch(r){e=!1}return e}(),M.isNode&&M.toFastProperties(process);try{throw new Error}catch(B){M.lastLineError=B}e.exports=M},{"./es5":13,async_hooks:void 0}]},{},[4])(4)})),"undefined"!==typeof window&&null!==window?window.P=window.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise)},913:function(){"use strict";try{self["workbox:core:6.5.3"]&&_()}catch(t){}},977:function(){"use strict";try{self["workbox:precaching:6.5.3"]&&_()}catch(t){}},80:function(){"use strict";try{self["workbox:routing:6.5.3"]&&_()}catch(t){}},873:function(){"use strict";try{self["workbox:strategies:6.5.3"]&&_()}catch(t){}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}!function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}();var r={};!function(){"use strict";var t=n(624);n(913);const e=(t,...e)=>{let n=t;return e.length>0&&(n+=` :: ${JSON.stringify(e)}`),n},r=e;class i extends Error{constructor(t,e){const n=r(t,e);super(n),this.name=t,this.details=e}}const o={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!==typeof registration?registration.scope:""},s=t=>[o.prefix,t,o.suffix].filter((t=>t&&t.length>0)).join("-"),a=t=>{for(const e of Object.keys(o))t(e)},c={updateDetails:t=>{a((e=>{"string"===typeof t[e]&&(o[e]=t[e])}))},getGoogleAnalyticsName:t=>t||s(o.googleAnalytics),getPrecacheName:t=>t||s(o.precache),getPrefix:()=>o.prefix,getRuntimeName:t=>t||s(o.runtime),getSuffix:()=>o.suffix};function l(t,e){const n=e();return t.waitUntil(n),n}n(977);const u="__WB_REVISION__";function h(t){if(!t)throw new i("add-to-cache-list-unexpected-type",{entry:t});if("string"===typeof t){const e=new URL(t,location.href);return{cacheKey:e.href,url:e.href}}const{revision:e,url:n}=t;if(!n)throw new i("add-to-cache-list-unexpected-type",{entry:t});if(!e){const t=new URL(n,location.href);return{cacheKey:t.href,url:t.href}}const r=new URL(n,location.href),o=new URL(n,location.href);return r.searchParams.set(u,e),{cacheKey:r.href,url:o.href}}class f{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:t,state:e})=>{e&&(e.originalRequest=t)},this.cachedResponseWillBeUsed=async({event:t,state:e,cachedResponse:n})=>{if("install"===t.type&&e&&e.originalRequest&&e.originalRequest instanceof Request){const t=e.originalRequest.url;n?this.notUpdatedURLs.push(t):this.updatedURLs.push(t)}return n}}}class p{constructor({precacheController:t}){this.cacheKeyWillBeUsed=async({request:t,params:e})=>{const n=(null===e||void 0===e?void 0:e.cacheKey)||this._precacheController.getCacheKeyForURL(t.url);return n?new Request(n,{headers:t.headers}):t},this._precacheController=t}}let _;function d(){if(void 0===_){const e=new Response("");if("body"in e)try{new Response(e.body),_=!0}catch(t){_=!1}_=!1}return _}async function v(t,e){let n=null;if(t.url){const e=new URL(t.url);n=e.origin}if(n!==self.location.origin)throw new i("cross-origin-copy-response",{origin:n});const r=t.clone(),o={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},s=e?e(o):o,a=d()?r.body:await r.blob();return new Response(a,s)}const y=t=>{const e=new URL(String(t),location.href);return e.href.replace(new RegExp(`^${location.origin}`),"")};function g(t,e){const n=new URL(t);for(const r of e)n.searchParams.delete(r);return n.href}async function m(t,e,n,r){const i=g(e.url,n);if(e.url===i)return t.match(e,r);const o=Object.assign(Object.assign({},r),{ignoreSearch:!0}),s=await t.keys(e,o);for(const a of s){const e=g(a.url,n);if(i===e)return t.match(a,r)}}class b{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}const w=new Set;async function C(){for(const t of w)await t()}function k(t){return new Promise((e=>setTimeout(e,t)))}n(873);function j(t){return"string"===typeof t?new Request(t):t}class E{constructor(t,e){this._cacheKeys={},Object.assign(this,e),this.event=e.event,this._strategy=t,this._handlerDeferred=new b,this._extendLifetimePromises=[],this._plugins=[...t.plugins],this._pluginStateMap=new Map;for(const n of this._plugins)this._pluginStateMap.set(n,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(t){const{event:e}=this;let n=j(t);if("navigate"===n.mode&&e instanceof FetchEvent&&e.preloadResponse){const t=await e.preloadResponse;if(t)return t}const r=this.hasCallback("fetchDidFail")?n.clone():null;try{for(const t of this.iterateCallbacks("requestWillFetch"))n=await t({request:n.clone(),event:e})}catch(s){if(s instanceof Error)throw new i("plugin-error-request-will-fetch",{thrownErrorMessage:s.message})}const o=n.clone();try{let t;t=await fetch(n,"navigate"===n.mode?void 0:this._strategy.fetchOptions);for(const n of this.iterateCallbacks("fetchDidSucceed"))t=await n({event:e,request:o,response:t});return t}catch(a){throw r&&await this.runCallbacks("fetchDidFail",{error:a,event:e,originalRequest:r.clone(),request:o.clone()}),a}}async fetchAndCachePut(t){const e=await this.fetch(t),n=e.clone();return this.waitUntil(this.cachePut(t,n)),e}async cacheMatch(t){const e=j(t);let n;const{cacheName:r,matchOptions:i}=this._strategy,o=await this.getCacheKey(e,"read"),s=Object.assign(Object.assign({},i),{cacheName:r});n=await caches.match(o,s);for(const a of this.iterateCallbacks("cachedResponseWillBeUsed"))n=await a({cacheName:r,matchOptions:i,cachedResponse:n,request:o,event:this.event})||void 0;return n}async cachePut(t,e){const n=j(t);await k(0);const r=await this.getCacheKey(n,"write");if(!e)throw new i("cache-put-with-no-response",{url:y(r.url)});const o=await this._ensureResponseSafeToCache(e);if(!o)return!1;const{cacheName:s,matchOptions:a}=this._strategy,c=await self.caches.open(s),l=this.hasCallback("cacheDidUpdate"),u=l?await m(c,r.clone(),["__WB_REVISION__"],a):null;try{await c.put(r,l?o.clone():o)}catch(h){if(h instanceof Error)throw"QuotaExceededError"===h.name&&await C(),h}for(const i of this.iterateCallbacks("cacheDidUpdate"))await i({cacheName:s,oldResponse:u,newResponse:o.clone(),request:r,event:this.event});return!0}async getCacheKey(t,e){const n=`${t.url} | ${e}`;if(!this._cacheKeys[n]){let r=t;for(const t of this.iterateCallbacks("cacheKeyWillBeUsed"))r=j(await t({mode:e,request:r,event:this.event,params:this.params}));this._cacheKeys[n]=r}return this._cacheKeys[n]}hasCallback(t){for(const e of this._strategy.plugins)if(t in e)return!0;return!1}async runCallbacks(t,e){for(const n of this.iterateCallbacks(t))await n(e)}*iterateCallbacks(t){for(const e of this._strategy.plugins)if("function"===typeof e[t]){const n=this._pluginStateMap.get(e),r=r=>{const i=Object.assign(Object.assign({},r),{state:n});return e[t](i)};yield r}}waitUntil(t){return this._extendLifetimePromises.push(t),t}async doneWaiting(){let t;while(t=this._extendLifetimePromises.shift())await t}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(t){let e=t,n=!1;for(const r of this.iterateCallbacks("cacheWillUpdate"))if(e=await r({request:this.request,response:e,event:this.event})||void 0,n=!0,!e)break;return n||e&&200!==e.status&&(e=void 0),e}}class R{constructor(t={}){this.cacheName=c.getRuntimeName(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}handle(t){const[e]=this.handleAll(t);return e}handleAll(t){t instanceof FetchEvent&&(t={event:t,request:t.request});const e=t.event,n="string"===typeof t.request?new Request(t.request):t.request,r="params"in t?t.params:void 0,i=new E(this,{event:e,request:n,params:r}),o=this._getResponse(i,n,e),s=this._awaitComplete(o,i,n,e);return[o,s]}async _getResponse(t,e,n){let r;await t.runCallbacks("handlerWillStart",{event:n,request:e});try{if(r=await this._handle(e,t),!r||"error"===r.type)throw new i("no-response",{url:e.url})}catch(o){if(o instanceof Error)for(const i of t.iterateCallbacks("handlerDidError"))if(r=await i({error:o,event:n,request:e}),r)break;if(!r)throw o}for(const i of t.iterateCallbacks("handlerWillRespond"))r=await i({event:n,request:e,response:r});return r}async _awaitComplete(t,e,n,r){let i,o;try{i=await t}catch(o){}try{await e.runCallbacks("handlerDidRespond",{event:r,request:n,response:i}),await e.doneWaiting()}catch(s){s instanceof Error&&(o=s)}if(await e.runCallbacks("handlerDidComplete",{event:r,request:n,response:i,error:o}),e.destroy(),o)throw o}}class F extends R{constructor(t={}){t.cacheName=c.getPrecacheName(t.cacheName),super(t),this._fallbackToNetwork=!1!==t.fallbackToNetwork,this.plugins.push(F.copyRedirectedCacheableResponsesPlugin)}async _handle(t,e){const n=await e.cacheMatch(t);return n||(e.event&&"install"===e.event.type?await this._handleInstall(t,e):await this._handleFetch(t,e))}async _handleFetch(t,e){let n;const r=e.params||{};if(!this._fallbackToNetwork)throw new i("missing-precache-entry",{cacheName:this.cacheName,url:t.url});{0;const i=r.integrity,o=t.integrity,s=!o||o===i;if(n=await e.fetch(new Request(t,{integrity:"no-cors"!==t.mode?o||i:void 0})),i&&s&&"no-cors"!==t.mode){this._useDefaultCacheabilityPluginIfNeeded();await e.cachePut(t,n.clone());0}}return n}async _handleInstall(t,e){this._useDefaultCacheabilityPluginIfNeeded();const n=await e.fetch(t),r=await e.cachePut(t,n.clone());if(!r)throw new i("bad-precaching-response",{url:t.url,status:n.status});return n}_useDefaultCacheabilityPluginIfNeeded(){let t=null,e=0;for(const[n,r]of this.plugins.entries())r!==F.copyRedirectedCacheableResponsesPlugin&&(r===F.defaultPrecacheCacheabilityPlugin&&(t=n),r.cacheWillUpdate&&e++);0===e?this.plugins.push(F.defaultPrecacheCacheabilityPlugin):e>1&&null!==t&&this.plugins.splice(t,1)}}F.defaultPrecacheCacheabilityPlugin={async cacheWillUpdate({response:t}){return!t||t.status>=400?null:t}},F.copyRedirectedCacheableResponsesPlugin={async cacheWillUpdate({response:t}){return t.redirected?await v(t):t}};class x{constructor({cacheName:t,plugins:e=[],fallbackToNetwork:n=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new F({cacheName:c.getPrecacheName(t),plugins:[...e,new p({precacheController:this})],fallbackToNetwork:n}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(t){this.addToCacheList(t),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(t){const e=[];for(const n of t){"string"===typeof n?e.push(n):n&&void 0===n.revision&&e.push(n.url);const{cacheKey:t,url:r}=h(n),o="string"!==typeof n&&n.revision?"reload":"default";if(this._urlsToCacheKeys.has(r)&&this._urlsToCacheKeys.get(r)!==t)throw new i("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(r),secondEntry:t});if("string"!==typeof n&&n.integrity){if(this._cacheKeysToIntegrities.has(t)&&this._cacheKeysToIntegrities.get(t)!==n.integrity)throw new i("add-to-cache-list-conflicting-integrities",{url:r});this._cacheKeysToIntegrities.set(t,n.integrity)}if(this._urlsToCacheKeys.set(r,t),this._urlsToCacheModes.set(r,o),e.length>0){const t=`Workbox is precaching URLs without revision info: ${e.join(", ")}\nThis is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(t)}}}install(t){return l(t,(async()=>{const e=new f;this.strategy.plugins.push(e);for(const[i,o]of this._urlsToCacheKeys){const e=this._cacheKeysToIntegrities.get(o),n=this._urlsToCacheModes.get(i),r=new Request(i,{integrity:e,cache:n,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:o},request:r,event:t}))}const{updatedURLs:n,notUpdatedURLs:r}=e;return{updatedURLs:n,notUpdatedURLs:r}}))}activate(t){return l(t,(async()=>{const t=await self.caches.open(this.strategy.cacheName),e=await t.keys(),n=new Set(this._urlsToCacheKeys.values()),r=[];for(const i of e)n.has(i.url)||(await t.delete(i),r.push(i.url));return{deletedURLs:r}}))}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(t){const e=new URL(t,location.href);return this._urlsToCacheKeys.get(e.href)}getIntegrityForCacheKey(t){return this._cacheKeysToIntegrities.get(t)}async matchPrecache(t){const e=t instanceof Request?t.url:t,n=this.getCacheKeyForURL(e);if(n){const t=await self.caches.open(this.strategy.cacheName);return t.match(n)}}createHandlerBoundToURL(t){const e=this.getCacheKeyForURL(t);if(!e)throw new i("non-precached-url",{url:t});return n=>(n.request=new Request(t),n.params=Object.assign({cacheKey:e},n.params),this.strategy.handle(n))}}let P;const T=()=>(P||(P=new x),P);n(80);const S="GET",O=t=>t&&"object"===typeof t?t:{handle:t};class A{constructor(t,e,n=S){this.handler=O(e),this.match=t,this.method=n}setCatchHandler(t){this.catchHandler=O(t)}}class U extends A{constructor(t,e,n){const r=({url:e})=>{const n=t.exec(e.href);if(n&&(e.origin===location.origin||0===n.index))return n.slice(1)};super(r,e,n)}}class L{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",(t=>{const{request:e}=t,n=this.handleRequest({request:e,event:t});n&&t.respondWith(n)}))}addCacheListener(){self.addEventListener("message",(t=>{if(t.data&&"CACHE_URLS"===t.data.type){const{payload:e}=t.data;0;const n=Promise.all(e.urlsToCache.map((e=>{"string"===typeof e&&(e=[e]);const n=new Request(...e);return this.handleRequest({request:n,event:t})})));t.waitUntil(n),t.ports&&t.ports[0]&&n.then((()=>t.ports[0].postMessage(!0)))}}))}handleRequest({request:t,event:e}){const n=new URL(t.url,location.href);if(!n.protocol.startsWith("http"))return void 0;const r=n.origin===location.origin,{params:i,route:o}=this.findMatchingRoute({event:e,request:t,sameOrigin:r,url:n});let s=o&&o.handler;const a=t.method;if(!s&&this._defaultHandlerMap.has(a)&&(s=this._defaultHandlerMap.get(a)),!s)return void 0;let c;try{c=s.handle({url:n,request:t,event:e,params:i})}catch(u){c=Promise.reject(u)}const l=o&&o.catchHandler;return c instanceof Promise&&(this._catchHandler||l)&&(c=c.catch((async r=>{if(l){0;try{return await l.handle({url:n,request:t,event:e,params:i})}catch(o){o instanceof Error&&(r=o)}}if(this._catchHandler)return this._catchHandler.handle({url:n,request:t,event:e});throw r}))),c}findMatchingRoute({url:t,sameOrigin:e,request:n,event:r}){const i=this._routes.get(n.method)||[];for(const o of i){let i;const s=o.match({url:t,sameOrigin:e,request:n,event:r});if(s)return i=s,(Array.isArray(i)&&0===i.length||s.constructor===Object&&0===Object.keys(s).length||"boolean"===typeof s)&&(i=void 0),{route:o,params:i}}return{}}setDefaultHandler(t,e=S){this._defaultHandlerMap.set(e,O(t))}setCatchHandler(t){this._catchHandler=O(t)}registerRoute(t){this._routes.has(t.method)||this._routes.set(t.method,[]),this._routes.get(t.method).push(t)}unregisterRoute(t){if(!this._routes.has(t.method))throw new i("unregister-route-but-not-found-with-method",{method:t.method});const e=this._routes.get(t.method).indexOf(t);if(!(e>-1))throw new i("unregister-route-route-not-registered");this._routes.get(t.method).splice(e,1)}}let N;const q=()=>(N||(N=new L,N.addFetchListener(),N.addCacheListener()),N);function I(t,e,n){let r;if("string"===typeof t){const i=new URL(t,location.href);0;const o=({url:t})=>t.href===i.href;r=new A(o,e,n)}else if(t instanceof RegExp)r=new U(t,e,n);else if("function"===typeof t)r=new A(t,e,n);else{if(!(t instanceof A))throw new i("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});r=t}const o=q();return o.registerRoute(r),r}function H(t,e=[]){for(const n of[...t.searchParams.keys()])e.some((t=>t.test(n)))&&t.searchParams.delete(n);return t}function*D(t,{ignoreURLParametersMatching:e=[/^utm_/,/^fbclid$/],directoryIndex:n="index.html",cleanURLs:r=!0,urlManipulation:i}={}){const o=new URL(t,location.href);o.hash="",yield o.href;const s=H(o,e);if(yield s.href,n&&s.pathname.endsWith("/")){const t=new URL(s.href);t.pathname+=n,yield t.href}if(r){const t=new URL(s.href);t.pathname+=".html",yield t.href}if(i){const t=i({url:o});for(const e of t)yield e.href}}class V extends A{constructor(t,e){const n=({request:n})=>{const r=t.getURLsToCacheKeys();for(const i of D(n.url,e)){const e=r.get(i);if(e){const n=t.getIntegrityForCacheKey(e);return{cacheKey:e,integrity:n}}}};super(n,t.strategy)}}function M(t){const e=T(),n=new V(e,t);I(n)}function B(t){const e=T();e.precache(t)}function K(t,e){B(t),M(e)}K([{'revision':'eae5438330ac1b65c8c97c0e6fae38df','url':'/.well-known/apple-app-site-association'},{'revision':'a4864b54ba0989f5152cfca9b10acdab','url':'/.well-known/assetlinks.json'},{'revision':null,'url':'/css/776.8b1d0a82.css'},{'revision':null,'url':'/css/846.8a64baa7.css'},{'revision':null,'url':'/css/page-redeem.1e1d7f25.css'},{'revision':null,'url':'/css/popup.6523a4b7.css'},{'revision':null,'url':'/css/qr-codes.e6ef7bef.css'},{'revision':null,'url':'/css/ui-common.6e5b5df2.css'},{'revision':null,'url':'/css/ui-desktop.7ab0d703.css'},{'revision':null,'url':'/css/ui-mobile.74750c91.css'},{'revision':null,'url':'/css/ui.ec1933d6.css'},{'revision':'53473564e8b78be3df263718a1faac62','url':'/favicons/android-chrome-192x192.png'},{'revision':'bd5c70f6fcf324cd7f23d793fdf464b8','url':'/favicons/android-chrome-512x512.png'},{'revision':'64e1038d81288a144458c74c05d24499','url':'/favicons/apple-touch-icon.png'},{'revision':'1554e330cbea80ffcefa62d17580e800','url':'/favicons/favicon-16x16.png'},{'revision':'341fbd7df81086774c441021b455824d','url':'/favicons/favicon-32x32.png'},{'revision':'1a292ec0ea571ef3ede2fd2d2d4aab3c','url':'/favicons/mstile-150x150.png'},{'revision':'704ed8ed1bce8bc62a32786e9bd8d0b9','url':'/favicons/safari-pinned-tab.svg'},{'revision':null,'url':'/img/account-card.b989f66c.svg'},{'revision':null,'url':'/img/aepps.12356716.svg'},{'revision':null,'url':'/img/phones.be68fcfa.svg'},{'revision':null,'url':'/img/send.06be84c2.svg'},{'revision':null,'url':'/img/subaccounts.ec457027.svg'},{'revision':'85b743210866e95e2b7bdcb1aae79da5','url':'/index.html'},{'revision':null,'url':'/js/277.4976c16c.js'},{'revision':null,'url':'/js/706.f73c7456.js'},{'revision':null,'url':'/js/776.ee20758d.js'},{'revision':null,'url':'/js/789.c674933d.js'},{'revision':null,'url':'/js/846.e62e4165.js'},{'revision':null,'url':'/js/885.3122e757.js'},{'revision':null,'url':'/js/925.80efc842.js'},{'revision':null,'url':'/js/app.26b2de2b.js'},{'revision':null,'url':'/js/chunk-vendors.486af443.js'},{'revision':null,'url':'/js/locale-cn.58166ea9.js'},{'revision':null,'url':'/js/locale-es.d5d3f135.js'},{'revision':null,'url':'/js/locale-ru.ce351131.js'},{'revision':null,'url':'/js/page-redeem.524ff054.js'},{'revision':null,'url':'/js/popup.78c0fbe0.js'},{'revision':null,'url':'/js/qr-codes.75284fb0.js'},{'revision':null,'url':'/js/sdk.0bb7c688.js'},{'revision':null,'url':'/js/socket-io.ba05e522.js'},{'revision':null,'url':'/js/ui-common.dcb72d71.js'},{'revision':null,'url':'/js/ui-desktop.7ef30d21.js'},{'revision':null,'url':'/js/ui-mobile.da269ff4.js'},{'revision':null,'url':'/js/ui.4b344aed.js'},{'revision':'b6216d61c03e6ce0c9aea6ca7808f7ca','url':'/robots.txt'},{'revision':'51f59f0bdbf09c95c5e58083af4bbcb1','url':'/site.webmanifest'}]),self.addEventListener("push",(t=>{const e="Remote device requests to sign a transaction",n={body:"Confirm transaction signing in Base æpp",icon:"favicons/android-chrome-192x192.png"};t.waitUntil(self.registration.showNotification(e,n))})),self.addEventListener("notificationclick",(e=>{e.notification.close(),e.waitUntil((0,t.coroutine)((function*(){const t=yield clients.matchAll({includeUncontrolled:!0,type:"window"});t.length?yield t[0].focus():yield clients.openWindow("/")}))())})),self.addEventListener("message",(t=>{"skipWaiting"===t.data.action&&t.waitUntil(self.skipWaiting())})),self.addEventListener("activate",(t=>t.waitUntil(self.clients.claim())))}()})();
//# sourceMappingURL=service-worker.js.map