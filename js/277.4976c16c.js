(self["webpackChunkaepp_base"]=self["webpackChunkaepp_base"]||[]).push([[277],{89784:function(e,t,n){var r=n(37798).stringify,i=n(16175);e.exports=function(e){return{parse:i(e),stringify:r}},e.exports.parse=i(),e.exports.stringify=r},16175:function(e,t,n){var r=null,i=function(e){"use strict";var t={strict:!1,storeAsString:!1};void 0!==e&&null!==e&&(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0));var i,o,s,a,c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(e){throw{name:"SyntaxError",message:e,at:i,text:s}},u=function(e){return e&&e!==o&&l("Expected '"+e+"' instead of '"+o+"'"),o=s.charAt(i),i+=1,o},f=function(){var e,i="";"-"===o&&(i="-",u("-"));while(o>="0"&&o<="9")i+=o,u();if("."===o){i+=".";while(u()&&o>="0"&&o<="9")i+=o}if("e"===o||"E"===o){i+=o,u(),"-"!==o&&"+"!==o||(i+=o,u());while(o>="0"&&o<="9")i+=o,u()}if(e=+i,isFinite(e))return null==r&&(r=n(44431)),i.length>15?!0===t.storeAsString?i:new r(i):e;l("Bad number")},h=function(){var e,t,n,r="";if('"'===o)while(u()){if('"'===o)return u(),r;if("\\"===o)if(u(),"u"===o){for(n=0,t=0;t<4;t+=1){if(e=parseInt(u(),16),!isFinite(e))break;n=16*n+e}r+=String.fromCharCode(n)}else{if("string"!==typeof c[o])break;r+=c[o]}else r+=o}l("Bad string")},d=function(){while(o&&o<=" ")u()},p=function(){switch(o){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}l("Unexpected '"+o+"'")},y=function(){var e=[];if("["===o){if(u("["),d(),"]"===o)return u("]"),e;while(o){if(e.push(a()),d(),"]"===o)return u("]"),e;u(","),d()}}l("Bad array")},g=function(){var e,n={};if("{"===o){if(u("{"),d(),"}"===o)return u("}"),n;while(o){if(e=h(),d(),u(":"),!0===t.strict&&Object.hasOwnProperty.call(n,e)&&l('Duplicate key "'+e+'"'),n[e]=a(),d(),"}"===o)return u("}"),n;u(","),d()}}l("Bad object")};return a=function(){switch(d(),o){case"{":return g();case"[":return y();case'"':return h();case"-":return f();default:return o>="0"&&o<="9"?f():p()}},function(e,t){var n;return s=e+"",i=0,o=" ",n=a(),d(),o&&l("Syntax error"),"function"===typeof t?function e(n,r){var i,o=n[r];return o&&"object"===typeof o&&Object.keys(o).forEach((function(t){i=e(o,t),void 0!==i?o[t]=i:delete o[t]})),t.call(n,r,o)}({"":n},""):n}};e.exports=i},37798:function(e,t,n){var r=n(44431),i=e.exports;(function(){"use strict";var e,t,n,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,(function(e){var t=s[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function c(i,o){var s,l,u,f,h,d=e,p=o[i],y=null!=p&&(p instanceof r||r.isBigNumber(p));switch(p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(i)),"function"===typeof n&&(p=n.call(o,i,p)),typeof p){case"string":return y?p:a(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(e+=t,h=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,s=0;s<f;s+=1)h[s]=c(s,p)||"null";return u=0===h.length?"[]":e?"[\n"+e+h.join(",\n"+e)+"\n"+d+"]":"["+h.join(",")+"]",e=d,u}if(n&&"object"===typeof n)for(f=n.length,s=0;s<f;s+=1)"string"===typeof n[s]&&(l=n[s],u=c(l,p),u&&h.push(a(l)+(e?": ":":")+u));else Object.keys(p).forEach((function(t){var n=c(t,p);n&&h.push(a(t)+(e?": ":":")+n)}));return u=0===h.length?"{}":e?"{\n"+e+h.join(",\n"+e)+"\n"+d+"}":"{"+h.join(",")+"}",e=d,u}}"function"!==typeof i.stringify&&(i.stringify=function(r,i,o){var s;if(e="",t="","number"===typeof o)for(s=0;s<o;s+=1)t+=" ";else"string"===typeof o&&(t=o);if(n=i,i&&"function"!==typeof i&&("object"!==typeof i||"number"!==typeof i.length))throw new Error("JSON.stringify");return c("",{"":r})})})()},44431:function(e,t,n){var r;(function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",f=1e14,h=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,g=1e9;function m(e){var t,n,r,i=F.prototype={constructor:F,toString:null,valueOf:null},o=new F(1),P=20,A=4,_=-7,N=21,O=-1e7,S=1e7,B=!1,k=1,C=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz",j=!0;function F(e,t){var i,o,a,l,f,p,y,g,m=this;if(!(m instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>S?m.c=m.e=null:e.e<O?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,f=e;f>=10;f/=10,l++);return void(l>S?m.c=m.e=null:(m.e=l,m.c=[e]))}g=String(e)}else{if(!s.test(g=String(e)))return r(m,g,p);m.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(l=g.indexOf("."))>-1&&(g=g.replace(".","")),(f=g.search(/e/i))>0?(l<0&&(l=f),l+=+g.slice(f+1),g=g.substring(0,f)):l<0&&(l=g.length)}else{if(x(t,2,M.length,"Base"),10==t&&j)return m=new F(e),H(m,P+m.e+1,A);if(g=String(e),p="number"==typeof e){if(0*e!=0)return r(m,g,p,t);if(m.s=1/e<0?(g=g.slice(1),-1):1,F.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(i=M.slice(0,t),l=f=0,y=g.length;f<y;f++)if(i.indexOf(o=g.charAt(f))<0){if("."==o){if(f>l){l=y;continue}}else if(!a&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){a=!0,f=-1,l=0;continue}return r(m,String(e),p,t)}p=!1,g=n(g,t,10,m.s),(l=g.indexOf("."))>-1?g=g.replace(".",""):l=g.length}for(f=0;48===g.charCodeAt(f);f++);for(y=g.length;48===g.charCodeAt(--y););if(g=g.slice(f,++y)){if(y-=f,p&&F.DEBUG&&y>15&&(e>d||e!==c(e)))throw Error(u+m.s*e);if((l=l-f-1)>S)m.c=m.e=null;else if(l<O)m.c=[m.e=0];else{if(m.e=l,m.c=[],f=(l+1)%h,l<0&&(f+=h),f<y){for(f&&m.c.push(+g.slice(0,f)),y-=h;f<y;)m.c.push(+g.slice(f,f+=h));f=h-(g=g.slice(f)).length}else f-=y;for(;f--;g+="0");m.c.push(+g)}}else m.c=[m.e=0]}function U(e,t,n,r){var i,o,s,a,c;if(null==n?n=A:x(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=T(e.c),c=1==r||2==r&&(s<=_||s>=N)?I(c,s):E(c,s,"0");else if(e=H(new F(e),t,n),o=e.e,c=T(e.c),a=c.length,1==r||2==r&&(t<=o||o<=_)){for(;a<t;c+="0",a++);c=I(c,o)}else if(t-=s,c=E(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if(t+=o-a,t>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function V(e,t){for(var n,r=1,i=new F(e[0]);r<e.length;r++){if(n=new F(e[r]),!n.s){i=n;break}t.call(i,n)&&(i=n)}return i}function D(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*h-1)>S?e.c=e.e=null:n<O?e.c=[e.e=0]:(e.e=n,e.c=t),e}function H(e,t,n,r){var i,o,s,l,u,d,y,g=e.c,m=p;if(g){e:{for(i=1,l=g[0];l>=10;l/=10,i++);if(o=t-i,o<0)o+=h,s=t,u=g[d=0],y=u/m[i-s-1]%10|0;else if(d=a((o+1)/h),d>=g.length){if(!r)break e;for(;g.length<=d;g.push(0));u=y=0,i=1,o%=h,s=o-h+1}else{for(u=l=g[d],i=1;l>=10;l/=10,i++);o%=h,s=o-h+i,y=s<0?0:u/m[i-s-1]%10|0}if(r=r||t<0||null!=g[d+1]||(s<0?u:u%m[i-s-1]),r=n<4?(y||r)&&(0==n||n==(e.s<0?3:2)):y>5||5==y&&(4==n||r||6==n&&(o>0?s>0?u/m[i-s]:0:g[d-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=m[(h-t%h)%h],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=d,l=1,d--):(g.length=d+1,l=m[h-o],g[d]=s>0?c(u/m[i-s]%m[s])*l:0),r)for(;;){if(0==d){for(o=1,s=g[0];s>=10;s/=10,o++);for(s=g[0]+=l,l=1;s>=10;s/=10,l++);o!=l&&(e.e++,g[0]==f&&(g[0]=1));break}if(g[d]+=l,g[d]!=f)break;g[d--]=0,l=1}for(o=g.length;0===g[--o];g.pop());}e.e>S?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function q(e){var t,n=e.e;return null===n?e.toString():(t=T(e.c),t=n<=_||n>=N?I(t,n):E(t,n,"0"),e.s<0?"-"+t:t)}return F.clone=m,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(n=e[t],x(n,0,g,t),P=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(n=e[t],x(n,0,8,t),A=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(n=e[t],n&&n.pop?(x(n[0],-g,0,t),x(n[1],0,g,t),_=n[0],N=n[1]):(x(n,-g,g,t),_=-(N=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if(n=e[t],n&&n.pop)x(n[0],-g,-1,t),x(n[1],1,g,t),O=n[0],S=n[1];else{if(x(n,-g,g,t),!n)throw Error(l+t+" cannot be zero: "+n);O=-(S=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if(n=e[t],n!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(l+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(n=e[t],x(n,0,9,t),k=n),e.hasOwnProperty(t="POW_PRECISION")&&(n=e[t],x(n,0,g,t),C=n),e.hasOwnProperty(t="FORMAT")){if(n=e[t],"object"!=typeof n)throw Error(l+t+" not an object: "+n);R=n}if(e.hasOwnProperty(t="ALPHABET")){if(n=e[t],"string"!=typeof n||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);j="0123456789"==n.slice(0,10),M=n}}return{DECIMAL_PLACES:P,ROUNDING_MODE:A,EXPONENTIAL_AT:[_,N],RANGE:[O,S],CRYPTO:B,MODULO_MODE:k,POW_PRECISION:C,FORMAT:R,ALPHABET:M}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-g&&i<=g&&i===c(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if(t=(i+1)%h,t<1&&(t+=h),String(r[0]).length==t){for(t=0;t<r.length;t++)if(n=r[t],n<0||n>=f||n!==c(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(l+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return V(arguments,i.lt)},F.minimum=F.min=function(){return V(arguments,i.gt)},F.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return c(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,i,s,u,f=0,d=[],y=new F(o);if(null==e?e=P:x(e,0,g),s=a(e/h),B)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(s*=2));f<s;)u=131072*n[f]+(n[f+1]>>>11),u>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[f]=r[0],n[f+1]=r[1]):(d.push(u%1e14),f+=2);f=s/2}else{if(!crypto.randomBytes)throw B=!1,Error(l+"crypto unavailable");for(n=crypto.randomBytes(s*=7);f<s;)u=281474976710656*(31&n[f])+1099511627776*n[f+1]+4294967296*n[f+2]+16777216*n[f+3]+(n[f+4]<<16)+(n[f+5]<<8)+n[f+6],u>=9e15?crypto.randomBytes(7).copy(n,f):(d.push(u%1e14),f+=7);f=s/7}if(!B)for(;f<s;)u=t(),u<9e15&&(d[f++]=u%1e14);for(s=d[--f],e%=h,s&&e&&(u=p[h-e],d[f]=c(s/u)*u);0===d[f];d.pop(),f--);if(f<0)d=[i=0];else{for(i=-1;0===d[0];d.splice(0,1),i-=h);for(f=1,u=d[0];u>=10;u/=10,f++);f<h&&(i-=h-f)}return y.e=i,y.c=d,y}}(),F.sum=function(){for(var e=1,t=arguments,n=new F(t[0]);e<t.length;)n=n.plus(t[e++]);return n},n=function(){var e="0123456789";function n(e,t,n,r){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var c,l,u,f,h,d,p,y,g=r.indexOf("."),m=P,w=A;for(g>=0&&(f=C,C=0,r=r.replace(".",""),y=new F(i),d=y.pow(r.length-g),C=f,y.c=n(E(T(d.c),d.e,"0"),10,o,e),y.e=y.c.length),p=n(r,i,o,a?(c=M,e):(c=e,M)),u=f=p.length;0==p[--f];p.pop());if(!p[0])return c.charAt(0);if(g<0?--u:(d.c=p,d.e=u,d.s=s,d=t(d,y,m,w,o),p=d.c,h=d.r,u=d.e),l=u+m+1,g=p[l],f=o/2,h=h||l<0||null!=p[l+1],h=w<4?(null!=g||h)&&(0==w||w==(d.s<0?3:2)):g>f||g==f&&(4==w||h||6==w&&1&p[l-1]||w==(d.s<0?8:7)),l<1||!p[0])r=h?E(c.charAt(1),-m,c.charAt(0)):c.charAt(0);else{if(p.length=l,h)for(--o;++p[--l]>o;)p[l]=0,l||(++u,p=[1].concat(p));for(f=p.length;!p[--f];);for(g=0,r="";g<=f;r+=c.charAt(p[g++]));r=E(r,u,c.charAt(0))}return r}}(),t=function(){function e(e,t,n){var r,i,o,s,a=0,c=e.length,l=t%y,u=t/y|0;for(e=e.slice();c--;)o=e[c]%y,s=e[c]/y|0,r=u*o+s*l,i=l*o+r%y*y+a,a=(i/n|0)+(r/y|0)+u*s,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,s,a){var l,u,d,p,y,g,m,T,v,x,b,I,E,P,A,_,N,O=r.s==i.s?1:-1,S=r.c,B=i.c;if(!S||!S[0]||!B||!B[0])return new F(r.s&&i.s&&(S?!B||S[0]!=B[0]:B)?S&&0==S[0]||!B?0*O:O/0:NaN);for(T=new F(O),v=T.c=[],u=r.e-i.e,O=o+u+1,a||(a=f,u=w(r.e/h)-w(i.e/h),O=O/h|0),d=0;B[d]==(S[d]||0);d++);if(B[d]>(S[d]||0)&&u--,O<0)v.push(1),p=!0;else{for(P=S.length,_=B.length,d=0,O+=2,y=c(a/(B[0]+1)),y>1&&(B=e(B,y,a),S=e(S,y,a),_=B.length,P=S.length),E=_,x=S.slice(0,_),b=x.length;b<_;x[b++]=0);N=B.slice(),N=[0].concat(N),A=B[0],B[1]>=a/2&&A++;do{if(y=0,l=t(B,x,_,b),l<0){if(I=x[0],_!=b&&(I=I*a+(x[1]||0)),y=c(I/A),y>1){y>=a&&(y=a-1),g=e(B,y,a),m=g.length,b=x.length;while(1==t(g,x,m,b))y--,n(g,_<m?N:B,m,a),m=g.length,l=1}else 0==y&&(l=y=1),g=B.slice(),m=g.length;if(m<b&&(g=[0].concat(g)),n(x,g,b,a),b=x.length,-1==l)while(t(B,x,_,b)<1)y++,n(x,_<b?N:B,b,a),b=x.length}else 0===l&&(y++,x=[0]);v[d++]=y,x[0]?x[b++]=S[E]||0:(x=[S[E]],b=1)}while((E++<P||null!=x[0])&&O--);p=null!=x[0],v[0]||v.splice(0,1)}if(a==f){for(d=1,O=v[0];O>=10;O/=10,d++);H(T,o+(T.e=d+u*h-1)+1,s,p)}else T.e=u,T.r=+p;return T}}(),r=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,a,c){var u,f=a?s:s.replace(i,"");if(r.test(f))o.s=isNaN(f)?null:f<0?-1:1;else{if(!a&&(f=f.replace(e,(function(e,t,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,c&&c!=u?e:t})),c&&(u=c,f=f.replace(t,"$1").replace(n,"0.$1")),s!=f))return new F(f,u);if(F.DEBUG)throw Error(l+"Not a"+(c?" base "+c:"")+" number: "+s);o.s=null}o.c=o.e=null}}(),i.absoluteValue=i.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},i.comparedTo=function(e,t){return v(this,new F(e,t))},i.decimalPlaces=i.dp=function(e,t){var n,r,i,o=this;if(null!=e)return x(e,0,g),null==t?t=A:x(t,0,8),H(new F(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-w(this.e/h))*h,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},i.dividedBy=i.div=function(e,n){return t(this,new F(e,n),P,A)},i.dividedToIntegerBy=i.idiv=function(e,n){return t(this,new F(e,n),0,1)},i.exponentiatedBy=i.pow=function(e,t){var n,r,i,s,u,f,d,p,y,g=this;if(e=new F(e),e.c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+q(e));if(null!=t&&(t=new F(t)),f=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return y=new F(Math.pow(+q(g),f?e.s*(2-b(e)):+q(e))),t?y.mod(t):y;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);r=!d&&g.isInteger()&&t.isInteger(),r&&(g=g.mod(t))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||f&&g.c[1]>=24e7:g.c[0]<8e13||f&&g.c[0]<=9999975e7)))return s=g.s<0&&b(e)?-0:0,g.e>-1&&(s=1/s),new F(d?1/s:s);C&&(s=a(C/h+2))}for(f?(n=new F(.5),d&&(e.s=1),p=b(e)):(i=Math.abs(+q(e)),p=i%2),y=new F(o);;){if(p){if(y=y.times(g),!y.c)break;s?y.c.length>s&&(y.c.length=s):r&&(y=y.mod(t))}if(i){if(i=c(i/2),0===i)break;p=i%2}else if(e=e.times(n),H(e,e.e+1,1),e.e>14)p=b(e);else{if(i=+q(e),0===i)break;p=i%2}g=g.times(g),s?g.c&&g.c.length>s&&(g.c.length=s):r&&(g=g.mod(t))}return r?y:(d&&(y=o.div(y)),t?y.mod(t):s?H(y,C,A,u):y)},i.integerValue=function(e){var t=new F(this);return null==e?e=A:x(e,0,8),H(t,t.e+1,e)},i.isEqualTo=i.eq=function(e,t){return 0===v(this,new F(e,t))},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(e,t){return v(this,new F(e,t))>0},i.isGreaterThanOrEqualTo=i.gte=function(e,t){return 1===(t=v(this,new F(e,t)))||0===t},i.isInteger=function(){return!!this.c&&w(this.e/h)>this.c.length-2},i.isLessThan=i.lt=function(e,t){return v(this,new F(e,t))<0},i.isLessThanOrEqualTo=i.lte=function(e,t){return-1===(t=v(this,new F(e,t)))||0===t},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&0==this.c[0]},i.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(e=new F(e,t),t=e.s,!a||!t)return new F(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/h,l=e.e/h,u=s.c,d=e.c;if(!c||!l){if(!u||!d)return u?(e.s=-t,e):new F(d?s:NaN);if(!u[0]||!d[0])return d[0]?(e.s=-t,e):new F(u[0]?s:3==A?-0:0)}if(c=w(c),l=w(l),u=u.slice(),a=c-l){for((o=a<0)?(a=-a,i=u):(l=c,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=u.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(u[t]!=d[t]){o=u[t]<d[t];break}if(o&&(i=u,u=d,d=i,e.s=-e.s),t=(r=d.length)-(n=u.length),t>0)for(;t--;u[n++]=0);for(t=f-1;r>a;){if(u[--r]<d[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=f}u[r]-=d[r]}for(;0==u[0];u.splice(0,1),--l);return u[0]?D(e,u,l):(e.s=3==A?-1:1,e.c=[e.e=0],e)},i.modulo=i.mod=function(e,n){var r,i,o=this;return e=new F(e,n),!o.c||!e.s||e.c&&!e.c[0]?new F(NaN):!e.c||o.c&&!o.c[0]?new F(o):(9==k?(i=e.s,e.s=1,r=t(o,e,0,3),e.s=i,r.s*=i):r=t(o,e,0,k),e=o.minus(r.times(e)),e.c[0]||1!=k||(e.s=o.s),e)},i.multipliedBy=i.times=function(e,t){var n,r,i,o,s,a,c,l,u,d,p,g,m,T,v,x=this,b=x.c,I=(e=new F(e,t)).c;if(!b||!I||!b[0]||!I[0])return!x.s||!e.s||b&&!b[0]&&!I||I&&!I[0]&&!b?e.c=e.e=e.s=null:(e.s*=x.s,b&&I?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=w(x.e/h)+w(e.e/h),e.s*=x.s,c=b.length,d=I.length,c<d&&(m=b,b=I,I=m,i=c,c=d,d=i),i=c+d,m=[];i--;m.push(0));for(T=f,v=y,i=d;--i>=0;){for(n=0,p=I[i]%v,g=I[i]/v|0,s=c,o=i+s;o>i;)l=b[--s]%v,u=b[s]/v|0,a=g*l+u*p,l=p*l+a%v*v+m[o]+n,n=(l/T|0)+(a/v|0)+g*u,m[o--]=l%T;m[o]=n}return n?++r:m.splice(0,1),D(e,m,r)},i.negated=function(){var e=new F(this);return e.s=-e.s||null,e},i.plus=function(e,t){var n,r=this,i=r.s;if(e=new F(e,t),t=e.s,!i||!t)return new F(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/h,s=e.e/h,a=r.c,c=e.c;if(!o||!s){if(!a||!c)return new F(i/0);if(!a[0]||!c[0])return c[0]?e:new F(a[0]?r:0*i)}if(o=w(o),s=w(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for(i=a.length,t=c.length,i-t<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/f|0,a[t]=f===a[t]?0:a[t]%f;return i&&(a=[i].concat(a),++s),D(e,a,s)},i.precision=i.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return x(e,1,g),null==t?t=A:x(t,0,8),H(new F(o),e,t);if(!(n=o.c))return null;if(i=n.length-1,r=i*h+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},i.shiftedBy=function(e){return x(e,-d,d),this.times("1e"+e)},i.squareRoot=i.sqrt=function(){var e,n,r,i,o,s=this,a=s.c,c=s.s,l=s.e,u=P+4,f=new F("0.5");if(1!==c||!a||!a[0])return new F(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(c=Math.sqrt(+q(s)),0==c||c==1/0?(n=T(a),(n.length+l)%2==0&&(n+="0"),c=Math.sqrt(+n),l=w((l+1)/2)-(l<0||l%2),c==1/0?n="5e"+l:(n=c.toExponential(),n=n.slice(0,n.indexOf("e")+1)+l),r=new F(n)):r=new F(c+""),r.c[0])for(l=r.e,c=l+u,c<3&&(c=0);;)if(o=r,r=f.times(o.plus(t(s,o,u,1))),T(o.c).slice(0,c)===(n=T(r.c)).slice(0,c)){if(r.e<l&&--c,n=n.slice(c-3,c+1),"9999"!=n&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(H(r,r.e+P+2,1),e=!r.times(r).eq(s));break}if(!i&&(H(o,o.e+P+2,0),o.times(o).eq(s))){r=o;break}u+=4,c+=4,i=1}return H(r,r.e+P+1,A,e)},i.toExponential=function(e,t){return null!=e&&(x(e,0,g),e++),U(this,e,t,1)},i.toFixed=function(e,t){return null!=e&&(x(e,0,g),e=e+this.e+1),U(this,e,t)},i.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=R;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,s=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",f=s[0],h=s[1],d=i.s<0,p=d?f.slice(1):f,y=p.length;if(c&&(o=a,a=c,c=o,y-=o),a>0&&y>0){for(o=y%a||a,f=p.substr(0,o);o<y;o+=a)f+=u+p.substr(o,a);c>0&&(f+=u+p.slice(o)),d&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},i.toFraction=function(e){var n,r,i,s,a,c,u,f,d,y,g,m,w=this,v=w.c;if(null!=e&&(u=new F(e),!u.isInteger()&&(u.c||1!==u.s)||u.lt(o)))throw Error(l+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+q(u));if(!v)return new F(w);for(n=new F(o),d=r=new F(o),i=f=new F(o),m=T(v),a=n.e=m.length-w.e-1,n.c[0]=p[(c=a%h)<0?h+c:c],e=!e||u.comparedTo(n)>0?a>0?n:d:u,c=S,S=1/0,u=new F(m),f.c[0]=0;;){if(y=t(u,n,0,1),s=r.plus(y.times(i)),1==s.comparedTo(e))break;r=i,i=s,d=f.plus(y.times(s=d)),f=s,n=u.minus(y.times(s=n)),u=s}return s=t(e.minus(r),i,0,1),f=f.plus(s.times(d)),r=r.plus(s.times(i)),f.s=d.s=w.s,a*=2,g=t(d,i,a,A).minus(w).abs().comparedTo(t(f,r,a,A).minus(w).abs())<1?[d,i]:[f,r],S=c,g},i.toNumber=function(){return+q(this)},i.toPrecision=function(e,t){return null!=e&&x(e,1,g),U(this,e,t,2)},i.toString=function(e){var t,r=this,i=r.s,o=r.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=o<=_||o>=N?I(T(r.c),o):E(T(r.c),o,"0"):10===e&&j?(r=H(new F(r),P+o+1,A),t=E(T(r.c),r.e,"0")):(x(e,2,M.length,"Base"),t=n(E(T(r.c),o,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},i.valueOf=i.toJSON=function(){return q(this)},i._isBigNumber=!0,null!=e&&F.set(e),F}function w(e){var t=0|e;return e>0||e===t?t:t-1}function T(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=h-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function v(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,l=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=o.length)?c:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function x(e,t,n,r){if(e<t||e>n||e!==c(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function b(e){var t=e.c.length-1;return w(e.e/h)==t&&e.c[t]%2!=0}function I(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function E(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(r=e.length,++t>r){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}o=m(),o["default"]=o.BigNumber=o,r=function(){return o}.call(t,n,t,e),void 0===r||(e.exports=r)})()},74077:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();(function(e){(function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function r(e){return e&&DataView.prototype.isPrototypeOf(e)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function d(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}function p(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&r(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype["delete"]=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=a(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function T(e,t){t=t||{};var n=t.body;if(e instanceof T){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=w(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e){var t=new l,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},g.call(T.prototype),g.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];b.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(P){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(i,o){var s=new T(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:x(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;i(new b(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=l,e.Request=T,e.Response=b),t.Headers=l,t.Request=T,t.Response=b,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;t=i.fetch,t["default"]=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},47235:function(e,t,n){"use strict";n.d(t,{s:function(){return p}});var r=n(48764),i=n(95389),o=n(85929),s=n(63203),a=n(34502),c=n(12037),l=n(70732),u=n(64907),f=n(74418);const{Buffer:h}=r,{required:d}=o,p=e=>!["sign","address"].find((t=>"function"!==typeof e[t]));async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[this.getNetworkId(t)];t.innerTx&&n.push("inner_tx");const r=(0,l.Jx)(e,"tx"),i=h.concat([h.from(n.join("-")),(0,s.v)(r)]),o=[await this.sign(i,t)];return(0,c.buildTx)({encodedTx:r,signatures:o},u.TX_TYPE.signed).tx}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{returnHex:!1};const n=await this.sign((0,a.messageToHash)(e),t);return t.returnHex?h.from(n).toString("hex"):n}async function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.verifyMessage)(e,"string"===typeof t?h.from(t,"hex"):t,(0,l.Jx)(await this.address(n)))}t["Z"]=i({init(e){let{networkId:t}=e;!this.networkId&&t&&(this.networkId=t)},methods:{signTransaction:y,getNetworkId:f.$,signMessage:g,verifyMessage:m}},d({methods:{sign:d,address:d}}))},12781:function(e,t,n){"use strict";var r=n(95389),i=n(10315),o=n(30972),s=n(47235),a=n(12037),c=n(70794),l=n(47183),u=n(34674);async function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...this.Ae.defaults,...t},{contractId:r,authFun:i}=t.innerTx?{contractId:!1}:await this.getAccount(await this.address(n)),o=r?await this.signUsingGA(e,{...n,authFun:i}):await this.signTransaction(e,n);return n.innerTx?{hash:a["default"].buildTxHash(o),rawTx:o}:this.sendTransaction(o,n)}async function h(e){let{authData:t,authFun:n,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createMetaTx(e,t,n,r)}async function d(e,t,n){const r={...this.Ae.defaults,...n};return this.send(await this.spendTx({...r,senderId:await this.address(r),recipientId:await this.resolveName(t,"account_pubkey",r),amount:e}),r)}async function p(e,t,n){if(e<0||e>1)throw new u.ir("fraction","a number between 0 and 1",e);const r={...this.Ae.defaults,...n},i=await this.resolveName(t,"account_pubkey",r),o=await this.address(r),s=new c.Z(await this.balance(o)),l=s.times(e).integerValue(c.Z.ROUND_HALF_UP),{tx:{fee:f}}=a["default"].unpackTx(await this.spendTx({...r,senderId:o,recipientId:i,amount:l})),h=l.plus(f).gt(s)?s.minus(f):l;return this.send(await this.spendTx({...r,senderId:o,recipientId:i,amount:h}),r)}async function y(e,t){const n={...this.Ae.defaults,...t};return this.send(await this.payingForTx({...n,payerId:await this.address(n),tx:e}),n)}function g(){const e=["destroyClient","destroyServer"];e.forEach((e=>this[e]&&"function"===typeof this[e]&&this[e]()))}const m=r(i.Z,s.Z,o.Z,{methods:{send:f,spend:d,transferFunds:p,payForTransaction:y,destroyInstance:g,signUsingGA:h},deepProps:{Ae:{defaults:{denomination:l.AE_AMOUNT_FORMATS.AETTOS}}}});t["Z"]=m},30972:function(e,t,n){"use strict";var r=n(95389),i=n(85929);const{required:o}=i,s=r({deepProps:{Ae:{defaults:{waitMined:!0,verify:!0,_expectedMineRate:18e4,_microBlockCycle:3e3,_maxPollInterval:5e3}}},methods:{_getPollInterval(e){const t={block:this.Ae.defaults._expectedMineRate,microblock:this.Ae.defaults._microBlockCycle}[e];if(!t)throw new Error(`Unknown poll type: ${e}`);return Math.min(t/3,this.Ae.defaults._maxPollInterval)}}},o({methods:{sendTransaction:o,height:o,awaitHeight:o,poll:o,balance:o,getBalance:o,tx:o,getTxInfo:o,mempool:o,txDryRun:o,getAccount:o}}));t["Z"]=s},88513:function(e,t,n){"use strict";var r=n(30972),i=n(47183),o=n(70256),s=n(50089),a=n(35196),c=n(70732),l=n(12442),u=n(64907),f=n(34674);async function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...this.Ae.defaults,...t};if(n.verify){const t=await(0,o.Z)(e,this.selectedNode.instance);if(t.length){const n="Transaction verification errors: "+t.map((e=>e.message)).join(", ");throw Object.assign(new f.rF(n),{code:"TX_VERIFICATION_ERROR",validation:t,transaction:e})}}try{var r;const{txHash:i}=await this.api.postTransaction({tx:e},{__queue:`tx-${await(null===(r=this.address)||void 0===r?void 0:r.call(this,t).catch((()=>"")))}`});if(n.waitMined){const n={...await this.poll(i,t),rawTx:e};return t.confirm?{...n,confirmationHeight:await this.waitForTxConfirm(i,t)}:n}return{hash:i,rawTx:e}}catch(i){throw Object.assign(i,{rawTx:e,verifyTx:()=>(0,o.Z)(e,this.selectedNode.instance)})}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{confirm:3};t.confirm=!0===t.confirm?3:t.confirm;const{blockHeight:n}=await this.api.getTransactionByHash(e),r=await this.awaitHeight(n+t.confirm,t),{blockHeight:i}=await this.api.getTransactionByHash(e);switch(i){case-1:throw new f.eM(e);case n:return r;default:return d(e,t)}}async function p(e){let{height:t,hash:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t?this.api.getAccountByPubkeyAndHeight(e,t):n?this.api.getAccountByPubkeyAndHash(e,n):this.api.getAccountByPubkey(e)}async function y(e){let{height:t,hash:n,format:r=i.AE_AMOUNT_FORMATS.AETTOS}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{balance:o}=await this.getAccount(e,{hash:n,height:t});return(0,i.formatAmount)(o,{targetDenomination:r}).toString()}async function g(e){let{height:t,hash:n,format:r=i.AE_AMOUNT_FORMATS.AETTOS}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{balance:o}=await this.getAccount(e,{hash:n,height:t}).catch((e=>({balance:0})));return(0,i.formatAmount)(o,{targetDenomination:r}).toString()}async function m(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=await this.api.getTransactionByHash(e);if(["ContractCreateTx","ContractCallTx","ChannelForceProgressTx"].includes(n.tx.type)&&t&&-1!==n.blockHeight)try{return{...n,...await this.getTxInfo(e)}}catch(r){}return n}async function w(){return(await this.api.getCurrentKeyBlockHeight()).height}async function T(e){let t,{interval:n=this._getPollInterval("block"),attempts:r=20}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let i=0;i<r;i++)if(i&&await(0,a.wO)(n),t=await this.height(),t>=e)return t;throw new f.ZB((r-1)*n,t,e)}async function v(e){let{blocks:t=10,interval:n=this._getPollInterval("microblock")}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.height()+t;do{const t=await this.api.getTransactionByHash(e);if(-1!==t.blockHeight)return t;await(0,a.wO)(n)}while(await this.height()<r);const i=this.api.getCheckTxInPool&&(await this.api.getCheckTxInPool(e)).status;throw new f.Oc(t,e,i)}async function x(e){const t=await this.api.getTransactionInfoByHash(e);return t.callInfo||t}async function b(){return this.api.getPendingTransactions()}async function I(){return this.api.getCurrentGeneration()}async function E(e){if("string"===typeof e)return this.api.getGenerationByHash(e);if("number"===typeof e)return this.api.getGenerationByHeight(e);throw new f.ir("hashOrHeight","a string or number",e)}async function P(e){return(await this.api.getMicroBlockTransactionsByHash(e)).transactions}async function A(e){if("string"===typeof e)return this.api.getKeyBlockByHash(e);if("number"===typeof e)return this.api.getKeyBlockByHeight(e);throw new f.ir("hashOrHeight","a string or number",e)}async function _(e){return this.api.getMicroBlockHeaderByHash(e)}async function N(e){const t=this._txDryRun[e];let n;delete this._txDryRun[e];try{n=await this.api.protectedDryRunTxs({top:t[0].top,txEvents:t[0].txEvents,txs:t.map((e=>({tx:e.tx}))),accounts:Array.from(new Set(t.map((e=>e.accountAddress)))).map((e=>({pubKey:e,amount:u.DRY_RUN_ACCOUNT.amount})))})}catch(o){return void t.forEach((e=>{let{reject:t}=e;return t(o)}))}const{results:r,txEvents:i}=n;r.forEach(((e,n)=>{let{result:r,reason:o,...s}=e;const{resolve:a,reject:c,tx:l,options:u,accountAddress:h}=t[n];if("ok"===r)return a({...s,txEvents:i});c(Object.assign(new f.ty(o),{tx:l,accountAddress:h,options:u}))}))}async function O(e,t,n){var r,i,o;let{top:s,txEvents:a,combine:c}=n;const l=c?[s,a].join():"immediate";return null!==(r=this._txDryRun)&&void 0!==r||(this._txDryRun={}),null!==(o=(i=this._txDryRun)[l])&&void 0!==o||(i[l]=[]),new Promise(((n,r)=>{var i,o;this._txDryRun[l].push({tx:e,accountAddress:t,top:s,txEvents:a,resolve:n,reject:r}),c?null!==(o=(i=this._txDryRun[l]).timeout)&&void 0!==o||(i.timeout=setTimeout(N.bind(this,l))):N.call(this,l)}))}async function S(e){return this.api.getContractCode(e)}async function B(e){return this.api.getContract(e)}async function k(e){return this.api.getNameEntryByName(e)}async function C(e,t){let{verify:n,resolveByNode:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"string"!==typeof e)throw new f.s2(`Name or address should be a string: ${e}`);try{return(0,c.Jx)(e),e}catch(i){}if((0,l.isNameValid)(e)){if(n||r){const n=await this.api.getNameEntryByName(e),i=n.pointers.find((e=>e.key===t));if(!i)throw new f.yW(`Name ${e} don't have pointers for ${t}`);if(r)return i.id}return(0,l.produceNameId)(e)}throw new f.s2(`Invalid name or address: ${e}`)}const R=r.Z.compose(s.Z,{methods:{sendTransaction:h,balance:y,getBalance:g,getAccount:p,tx:m,height:w,awaitHeight:T,poll:v,getTxInfo:x,mempool:b,getCurrentGeneration:I,getGeneration:E,getMicroBlockHeader:_,getMicroBlockTransactions:P,getKeyBlock:A,txDryRun:O,getContractByteCode:S,getContract:B,getName:k,waitForTxConfirm:d,resolveName:C}});t["Z"]=R},50089:function(e,t,n){"use strict";var r=n(95389),i=n(74418),o=n(34674);t["Z"]=r({init(){let{nodes:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pool=new Map,this.validateNodes(e),e.forEach(((e,t)=>{const{name:n,instance:r}=e;this.addNode(n,r,0===t)})),e.length&&this.selectNode(e[0].name)},propertyDescriptors:{api:{enumerable:!0,configurable:!1,get(){if(!this.selectedNode||!this.selectedNode.instance)throw new o.PM("You can't use Node API. Node is not connected or not defined!");return this.selectedNode.instance.api}}},methods:{addNode(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.pool.has(e))throw new o.mn(e);this.validateNodes([{name:e,instance:t}]),this.pool.set(e,{name:e,instance:t,url:t.url,internalUrl:t.internalUrl,networkId:t.nodeNetworkId,version:t.version,consensusProtocolVersion:t.consensusProtocolVersion}),!n&&this.selectedNode||this.selectNode(e)},selectNode(e){if(!this.pool.has(e))throw new o.PM(`Node with name ${e} not in pool`);this.selectedNode=this.pool.get(e)},getNetworkId:i.$,isNodeConnected(){return!!this.selectedNode.instance},getNodeInfo(){if(!this.isNodeConnected())throw new o.lZ;return{name:this.selectedNode.name,...this.selectedNode.instance.getNodeInfo()}},getNodesInPool(){return Array.from(this.pool.entries()).map((e=>{let[t,n]=e;return{name:t,...n.instance.getNodeInfo()}}))},validateNodes(e){if(!Array.isArray(e))throw new o.R3('"nodes" should be an array');const t=e.map((e=>typeof e)).find((e=>"object"!==e));if(t)throw new o.R3(`Each node should be an object, got ${t} instead`);const n=e.find((e=>"string"!==typeof e.name||"object"!==typeof e.instance));if(t)throw new o.R3(`Each node should have name (string), instance (object) fields, got ${JSON.stringify(n)} instead`);const r=e.map((e=>e.instance)).find((e=>"object"!==typeof e.api||"string"!==typeof e.genesisHash||"number"!==typeof e.consensusProtocolVersion));if(r)throw new o.R3(`Each node instance should have api (object), consensusProtocolVersion (number), genesisHash (string) fields, got ${JSON.stringify(r)} instead`)}},props:{selectedNode:{}}})},74418:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var r=n(63326),i=n(54370),o=n(85573),s=n(34674);function a(){var e;let{networkId:t,force:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t||this.networkId||(null===(e=this.selectedNode)||void 0===e?void 0:e.networkId);if(!n&&!r)throw new s.z6("networkId is not provided");return n&&!r?null:r}const c=r.Z.compose({async init(e){let{url:t,internalUrl:n,ignoreVersion:r}=e;if(!t)throw new s.z6('"url" required');this.url=t.replace(/\/$/,""),this.internalUrl=null===n||void 0===n?void 0:n.replace(/\/$/,"");const a=await(0,i.Z)(`${this.url}/api?oas3`,{internalUrl:this.internalUrl,responseInterceptor:e=>{if(!e.ok)return Object.assign(e,{statusText:`${new URL(e.url).pathname.slice(1)} error: `+e.body.reason})}});if(this.version=a.spec.info.version,!(0,o.Z)(this.version,l,u)&&!r)throw new s.wD("node",this.version,l,u);this.api=a.api;const{nodeRevision:c,genesisKeyBlockHash:f,networkId:h,protocols:d,topBlockHeight:p}=await this.api.getStatus();return this.consensusProtocolVersion=d.filter((e=>{let{effectiveAtHeight:t}=e;return p>=t})).reduce(((e,t)=>t.effectiveAtHeight>e.effectiveAtHeight?t:e),{effectiveAtHeight:-1,version:0}).version,this.nodeNetworkId=h,Object.assign(this,{revision:c,genesisHash:f})},methods:{getNodeInfo(){return{url:this.url,internalUrl:this.internalUrl,nodeNetworkId:this.nodeNetworkId,version:this.version,consensusProtocolVersion:this.consensusProtocolVersion}}},props:{version:null,consensusProtocolVersion:null,nodeNetworkId:null}}),l="6.2.0",u="7.0.0";t["Z"]=c},10315:function(e,t,n){"use strict";var r=n(95389),i=n(85929);const{required:o}=i,s=r(o({methods:{spendTx:o,namePreclaimTx:o,nameClaimTx:o,nameTransferTx:o,nameUpdateTx:o,nameRevokeTx:o,contractCreateTx:o,contractCallTx:o,oracleRegisterTx:o,oracleExtendTx:o,oraclePostQueryTx:o,oracleRespondTx:o,getAccountNonce:o,channelCloseSoloTx:o,channelSlashTx:o,channelSettleTx:o,channelSnapshotSoloTx:o,gaAttachTx:o,getVmVersion:o,prepareTxParams:o}}));t["Z"]=s},39242:function(e,t,n){"use strict";n.d(t,{u:function(){return p}});var r=n(48764),i=n(95389),o=n(12037),s=n(64907),a=n(70732),c=n(67336),l=n(34674);const{Buffer:u}=r,f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof t)throw new l.R3('tx "params" should be an object');if("string"!==typeof e||!Object.values(s.TX_TYPE).includes(e))throw new l.M0(`Unknown transaction type ${e}`);const r=(0,o.calculateFee)(t.fee,e,{gas:t.gas,params:t,vsn:t.vsn}),{rlpEncoded:i,binary:a,tx:c,txObject:u}=(0,o.buildTx)({...t,fee:r},e,{vsn:t.vsn,...n});return{rlpEncoded:i,binary:a,encodedTx:c,params:u,type:e}},h=e=>{if(!e)throw new l.rF(`Invalid transaction: ${e}`);if("string"===typeof e){const{txType:t,tx:n,rlpEncoded:r,binary:i}=(0,o.unpackTx)(e);return{encodedTx:e,type:t,params:n,rlpEncoded:r,binary:i}}if(e instanceof Uint8Array){const{txType:t,tx:n,rlpEncoded:r,binary:i}=(0,o.unpackTx)(e,!0);return{encodedTx:(0,a.cv)(e,"tx"),type:t,params:n,rlpEncoded:r,binary:i}}throw new l.rF(`"tx" should be a string or Uint8Array, got ${e} instead`)},d=function(){let{tx:e,params:t,type:n,options:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&n)return f(n,t,r);if(e)return h(e);throw new l.rF('Invalid TxObject arguments. Please provide one of { tx: "tx_asdasd23..." } or { type: "spendTx", params: {...} }')},p=i({init(){let{tx:e,params:t,type:n,options:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.options=r,this.signatures=[],Object.assign(this,d({tx:e,params:t,type:n,options:r})),this.type===s.TX_TYPE.signed){const{signatures:e,encodedTx:{txType:t,tx:n}}=this.params;this.signatures=e,this.params=n,this.type=t,this.isSigned=!0}},statics:{fromString:e=>p({tx:e}),fromRlp:e=>p({tx:e})},methods:{setProp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof e)throw new l.R3("Props should be an object");return this.isSigned=!1,this.signatures=[],Object.assign(this,f(this.type,{...this.params,...e,fee:null},{...this.options,...t})),this},getSignatures(){return this.signatures},addSignature(e){if(e=(0,c.vq)(e)?u.from(e,"hex"):e,!u.isBuffer(e)&&!(e instanceof Uint8Array))throw new l.wn("Invalid signature, signature must be of type Buffer or Uint8Array");Object.assign(this,f(s.TX_TYPE.signed,{encodedTx:this.rlpEncoded,signatures:[[...this.signatures,e]]}));const{signatures:t,encodedTx:{txType:n,tx:r}}=this.params;this.signatures=t,this.params=r,this.type=n,this.isSigned=!0},calculateMinFee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...this.params,...e};return(0,o.calculateFee)(0,this.type,{gas:t.gas,params:t,vsn:t.vsn})}}});t["Z"]=p},85474:function(e,t,n){"use strict";var r=n(88513),i=n(10315),o=n(12037),s=n(64907),a=n(70732),c=n(12442),l=n(39242),u=n(34674);async function f(e){let{senderId:t,recipientId:n,amount:r,payload:i=""}=e;const{fee:o,ttl:a,nonce:c}=await this.prepareTxParams(s.TX_TYPE.spend,{senderId:t,...arguments[0],payload:i}),{tx:u}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],recipientId:n,senderId:t,nonce:c,ttl:a,payload:i},type:s.TX_TYPE.spend}).encodedTx}:await this.api.postSpend({...arguments[0],amount:parseInt(r),recipientId:n,senderId:t,nonce:c,ttl:a,fee:parseInt(o),payload:i});return u}async function h(e){let{accountId:t,commitmentId:n}=e;const{fee:r,ttl:i,nonce:o}=await this.prepareTxParams(s.TX_TYPE.namePreClaim,{senderId:t,...arguments[0]}),{tx:a}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],nonce:o,ttl:i,fee:r},type:s.TX_TYPE.namePreClaim}).encodedTx}:await this.api.postNamePreclaim({...arguments[0],nonce:o,ttl:i,fee:parseInt(r)});return a}async function d(e){let{accountId:t,name:n,nameSalt:r,vsn:i=2}=e;const{fee:o,ttl:c,nonce:u}=await this.prepareTxParams(s.TX_TYPE.nameClaim,{senderId:t,...arguments[0],vsn:i}),{tx:f}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],nonce:u,ttl:c,fee:o,vsn:i},type:s.TX_TYPE.nameClaim}).encodedTx}:await this.api.postNameClaim({...arguments[0],nonce:u,ttl:c,fee:parseInt(o),name:(0,a.cv)(n,"nm")});return f}async function p(e){let{accountId:t,nameId:n,recipientId:r}=e;const{fee:i,ttl:o,nonce:a}=await this.prepareTxParams(s.TX_TYPE.nameTransfer,{senderId:t,...arguments[0]}),{tx:c}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],recipientId:r,nonce:a,ttl:o,fee:i},type:s.TX_TYPE.nameTransfer}).encodedTx}:await this.api.postNameTransfer({...arguments[0],recipientId:r,nonce:a,ttl:o,fee:parseInt(i)});return c}async function y(e){let{accountId:t,nameId:n,nameTtl:r,pointers:i,clientTtl:o}=e;const{fee:a,ttl:c,nonce:u}=await this.prepareTxParams(s.TX_TYPE.nameUpdate,{senderId:t,...arguments[0]}),{tx:f}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],nonce:u,ttl:c,fee:a},type:s.TX_TYPE.nameUpdate}).encodedTx}:await this.api.postNameUpdate({...arguments[0],nonce:u,ttl:c,fee:parseInt(a)});return f}async function g(e){let{accountId:t,nameId:n}=e;const{fee:r,ttl:i,nonce:o}=await this.prepareTxParams(s.TX_TYPE.nameRevoke,{senderId:t,...arguments[0]}),{tx:a}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],nonce:o,ttl:i,fee:r},type:s.TX_TYPE.nameRevoke}).encodedTx}:await this.api.postNameRevoke({...arguments[0],nonce:o,ttl:i,fee:parseInt(r)});return a}async function m(e){let{ownerId:t,code:n,vmVersion:r,abiVersion:i,amount:o,gas:a,gasPrice:u=s.MIN_GAS_PRICE,callData:f}=e;const h=this.getVmVersion(s.TX_TYPE.contractCreate,arguments[0]),{fee:d,ttl:p,nonce:y}=await this.prepareTxParams(s.TX_TYPE.contractCreate,{senderId:t,...arguments[0],ctVersion:h,gasPrice:u});return this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],nonce:y,ttl:p,fee:d,ctVersion:h,gasPrice:u},type:s.TX_TYPE.contractCreate}).encodedTx,contractId:(0,c.buildContractId)(t,y)}:this.api.postContractCreate({...arguments[0],nonce:y,ttl:p,fee:parseInt(d),gas:parseInt(a),gasPrice:u,vmVersion:h.vmVersion,abiVersion:h.abiVersion})}async function w(e){let{callerId:t,contractId:n,abiVersion:r,amount:i,gas:o,gasPrice:a=s.MIN_GAS_PRICE,callData:c}=e;const u=this.getVmVersion(s.TX_TYPE.contractCall,arguments[0]),{fee:f,ttl:h,nonce:d}=await this.prepareTxParams(s.TX_TYPE.contractCall,{senderId:t,...arguments[0],gasPrice:a,abiVersion:u.abiVersion}),{tx:p}=this.nativeMode?{tx:(0,l.u)({params:{...arguments[0],nonce:d,ttl:h,fee:f,abiVersion:u.abiVersion,gasPrice:a},type:s.TX_TYPE.contractCall}).encodedTx}:await this.api.postContractCall({...arguments[0],nonce:d,ttl:h,fee:parseInt(f),gas:parseInt(o),gasPrice:a,abiVersion:u.abiVersion});return p}async function T(e){let{accountId:t,queryFormat:n,responseFormat:r,queryFee:i,oracleTtl:o,abiVersion:a=s.ABI_VERSIONS.NO_ABI}=e;const{fee:c,ttl:u,nonce:f}=await this.prepareTxParams(s.TX_TYPE.oracleRegister,{senderId:t,...arguments[0],abiVersion:a}),{tx:h}=this.nativeMode?{tx:(0,l.u)({params:{accountId:t,queryFee:i,abiVersion:a,fee:c,oracleTtl:o,nonce:f,ttl:u,queryFormat:n,responseFormat:r},type:s.TX_TYPE.oracleRegister}).encodedTx}:await this.api.postOracleRegister({accountId:t,queryFee:i,abiVersion:a,fee:parseInt(c),oracleTtl:o,nonce:f,ttl:u,queryFormat:n,responseFormat:r});return h}async function v(e){let{oracleId:t,callerId:n,oracleTtl:r}=e;const{fee:i,ttl:o,nonce:a}=await this.prepareTxParams(s.TX_TYPE.oracleExtend,{senderId:n,...arguments[0]}),{tx:c}=this.nativeMode?{tx:(0,l.u)({params:{oracleId:t,fee:i,oracleTtl:r,nonce:a,ttl:o},type:s.TX_TYPE.oracleExtend}).encodedTx}:await this.api.postOracleExtend({oracleId:t,fee:parseInt(i),oracleTtl:r,nonce:a,ttl:o});return c}async function x(e){let{oracleId:t,responseTtl:n,query:r,queryTtl:i,queryFee:o,senderId:a}=e;const{fee:c,ttl:u,nonce:f}=await this.prepareTxParams(s.TX_TYPE.oracleQuery,{senderId:a,...arguments[0]}),{tx:h}=this.nativeMode?{tx:(0,l.u)({params:{oracleId:t,responseTtl:n,query:r,queryTtl:i,fee:c,queryFee:o,ttl:u,nonce:f,senderId:a},type:s.TX_TYPE.oracleQuery}).encodedTx}:await this.api.postOracleQuery({oracleId:t,responseTtl:n,query:r,queryTtl:i,fee:parseInt(c),queryFee:o,ttl:u,nonce:f,senderId:a});return h}async function b(e){let{oracleId:t,callerId:n,responseTtl:r,queryId:i,response:o}=e;const{fee:a,ttl:c,nonce:u}=await this.prepareTxParams(s.TX_TYPE.oracleResponse,{senderId:n,...arguments[0]}),{tx:f}=this.nativeMode?{tx:(0,l.u)({params:{oracleId:t,responseTtl:r,queryId:i,response:o,fee:a,ttl:c,nonce:u},type:s.TX_TYPE.oracleResponse}).encodedTx}:await this.api.postOracleRespond({oracleId:t,responseTtl:r,queryId:i,response:o,fee:parseInt(a),ttl:c,nonce:u});return f}async function I(e){let{channelId:t,fromId:n,payload:r,poi:i}=e;const{fee:a,ttl:c,nonce:l}=await this.prepareTxParams(s.TX_TYPE.channelCloseSolo,{senderId:n,...arguments[0],payload:r}),{tx:u}=this.nativeMode?(0,o.buildTx)({...arguments[0],channelId:t,fromId:n,payload:r,poi:i,ttl:c,fee:a,nonce:l},s.TX_TYPE.channelCloseSolo):await this.api.postChannelCloseSolo({...arguments[0],channelId:t,fromId:n,payload:r,poi:i,ttl:c,fee:parseInt(a),nonce:l});return u}async function E(e){let{channelId:t,fromId:n,payload:r,poi:i}=e;const{fee:a,ttl:c,nonce:l}=await this.prepareTxParams(s.TX_TYPE.channelSlash,{senderId:n,...arguments[0],payload:r}),{tx:u}=this.nativeMode?(0,o.buildTx)({...arguments[0],channelId:t,fromId:n,payload:r,poi:i,ttl:c,fee:a,nonce:l},s.TX_TYPE.channelSlash):await this.api.postChannelSlash({...arguments[0],channelId:t,fromId:n,payload:r,poi:i,ttl:c,fee:parseInt(a),nonce:l});return u}async function P(e){let{channelId:t,fromId:n,initiatorAmountFinal:r,responderAmountFinal:i}=e;const{fee:a,ttl:c,nonce:l}=await this.prepareTxParams(s.TX_TYPE.channelSettle,{senderId:n,...arguments[0]}),{tx:u}=this.nativeMode?(0,o.buildTx)({...arguments[0],channelId:t,fromId:n,initiatorAmountFinal:r,responderAmountFinal:i,ttl:c,fee:a,nonce:l},s.TX_TYPE.channelSettle):await this.api.postChannelSettle({...arguments[0],channelId:t,fromId:n,initiatorAmountFinal:parseInt(r),responderAmountFinal:parseInt(i),ttl:c,fee:parseInt(a),nonce:l});return u}async function A(e){let{channelId:t,fromId:n,payload:r}=e;const{fee:i,ttl:a,nonce:c}=await this.prepareTxParams(s.TX_TYPE.channelSnapshotSolo,{senderId:n,...arguments[0],payload:r}),{tx:l}=this.nativeMode?(0,o.buildTx)({...arguments[0],channelId:t,fromId:n,payload:r,ttl:a,fee:i,nonce:c},s.TX_TYPE.channelSnapshotSolo):await this.api.postChannelSnapshotSolo({...arguments[0],channelId:t,fromId:n,payload:r,ttl:a,fee:parseInt(i),nonce:c});return l}async function _(e){let{ownerId:t,code:n,vmVersion:r,abiVersion:i,authFun:o,gas:a,gasPrice:u=s.MIN_GAS_PRICE,callData:f}=e;const h=this.getVmVersion(s.TX_TYPE.contractCreate,arguments[0]),{fee:d,ttl:p,nonce:y}=await this.prepareTxParams(s.TX_TYPE.gaAttach,{senderId:t,...arguments[0],ctVersion:h,gasPrice:u});return{tx:(0,l.u)({params:{...arguments[0],nonce:y,ttl:p,fee:d,ctVersion:h,gasPrice:u},type:s.TX_TYPE.gaAttach}).encodedTx,contractId:(0,c.buildContractId)(t,y)}}async function N(e){let{tx:t,payerId:n,...r}=e;const i={tx:(0,o.unpackTx)(t),payerId:n},{fee:a,nonce:c}=await this.prepareTxParams(s.TX_TYPE.payingFor,{...i,...r,senderId:n});return(0,o.buildTx)({...i,...r,fee:a,nonce:c},s.TX_TYPE.payingFor).tx}function O(e){let{vmVersion:t,abiVersion:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{consensusProtocolVersion:r}=this.getNodeInfo(),i=s.PROTOCOL_VM_ABI[r];if(!i)throw new u.x3("Not supported consensus protocol version");const o=i[e];if(!o)throw new u.M0("Not supported tx type");if(n=n||o.abiVersion[0],t=t||o.vmVersion[0],!o.vmVersion.includes(t))throw new u.bc(`VM VERSION ${t} do not support by this node. Supported: [${o.vmVersion}]`);if(!o.abiVersion.includes(n))throw new u.Qh(`ABI VERSION ${n} do not support by this node. Supported: [${o.abiVersion}]`);return{vmVersion:t,abiVersion:n}}async function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.TX_TTL,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===e)return 0;if(e<0)throw new u.ir("ttl","greater or equal to 0",e);if(t){const{height:t}=await this.api.getCurrentKeyBlock();return+t+e}return e}async function B(e,t){if(t)return t;const{nonce:n}=await this.api.getAccountByPubkey(e).catch((()=>({nonce:0})));return n+1}async function k(e,t){let{senderId:n,nonce:r,ttl:i,fee:s,gas:a,absoluteTtl:c,vsn:l,strategy:u}=t;r=r||(await this.api.getAccountNextNonce(n,{strategy:u}).catch((e=>({nextNonce:1})))).nextNonce;const f=await S.call(this,i,!c),h=(0,o.calculateFee)(s,e,{showWarning:this.showWarning,gas:a,params:{...arguments[1],nonce:r,ttl:f},vsn:l});return{fee:h,ttl:f,nonce:r}}const C=r.Z.compose(i.Z,{init(e){let{nativeMode:t=!0,showWarning:n=!1}=e;this.nativeMode=t,this.showWarning=n},props:{nativeMode:!0,showWarning:!1},methods:{spendTx:f,namePreclaimTx:h,nameClaimTx:d,nameTransferTx:p,nameUpdateTx:y,nameRevokeTx:g,contractCreateTx:m,contractCallTx:w,prepareTxParams:k,oracleRegisterTx:T,oracleExtendTx:v,oraclePostQueryTx:x,oracleRespondTx:b,channelCloseSoloTx:I,channelSlashTx:E,channelSettleTx:P,channelSnapshotSoloTx:A,gaAttachTx:_,payingForTx:N,getAccountNonce:B,getVmVersion:O}});t["Z"]=C},70256:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(48764),i=n(63203),o=n(34502),s=n(70732),a=n(70794),c=n(64907),l=n(12037),u=n(34674);const{Buffer:f}=r,h=[(e,t)=>{let{encodedTx:n,signatures:r}=e,{account:a,node:l,parentTxTypes:u}=t;if(void 0===(null!==n&&void 0!==n?n:r))return[];if(1!==r.length)return[];const h=f.from([l.nodeNetworkId,...u.includes(c.TX_TYPE.payingFor)?["inner_tx"]:[]].join("-")),d=f.concat([h,n.rlpEncoded]),p=f.concat([h,(0,i.v)(n.rlpEncoded)]),y=(0,s.Jx)(a.id,"ak");return(0,o.verify)(d,r[0],y)||(0,o.verify)(p,r[0],y)?[]:[{message:"Signature cannot be verified, please ensure that you transaction have the correct prefix and the correct private key for the sender address",key:"InvalidSignature",checkedKeys:["encodedTx","signatures"]}]},(e,t)=>{let{encodedTx:n,tx:r}=e,{node:i,parentTxTypes:o,txType:a}=t;return void 0===(null!==n&&void 0!==n?n:r)?[]:p((0,s.cv)((null!==n&&void 0!==n?n:r).rlpEncoded,"tx"),i,[...o,a])},(e,t)=>{let{txType:n}=t;if(void 0===e.fee)return[];const r=(0,l.calculateFee)(0,n,{gas:+e.gas||0,params:e,showWarning:!1,vsn:e.VSN});return new a.Z(r).lte(e.fee)?[]:[{message:`Fee ${e.fee} is too low, minimum fee for this transaction is ${r}`,key:"InsufficientFee",checkedKeys:["fee"]}]},(e,t)=>{let{ttl:n}=e,{height:r}=t;return void 0===n?[]:(n=+n,0===n||n>=r?[]:[{message:`TTL ${n} is already expired, current height is ${r}`,key:"ExpiredTTL",checkedKeys:["ttl"]}])},(e,t)=>{var n;let{amount:r,fee:i,nameFee:o,tx:s}=e,{account:l,parentTxTypes:u,txType:f}=t;if(void 0===(null!==(n=null!==r&&void 0!==r?r:i)&&void 0!==n?n:o))return[];const h=new a.Z(i).plus(o||0).plus(r||0).plus(f===c.TX_TYPE.payingFor?s.tx.encodedTx.tx.fee:0).minus(u.includes(c.TX_TYPE.payingFor)?i:0);return h.lte(l.balance)?[]:[{message:`Account balance ${l.balance} is not enough to execute the transaction that costs ${h.toFixed()}`,key:"InsufficientBalance",checkedKeys:["amount","fee","nameFee"]}]},(e,t)=>{let{nonce:n}=e,{account:r,parentTxTypes:i}=t;if(void 0===n||i.includes(c.TX_TYPE.gaMeta))return[];n=+n;const o=r.nonce+1;return n===o?[]:[{...n<o?{message:`Nonce ${n} is already used, valid nonce is ${o}`,key:"NonceAlreadyUsed"}:{message:`Nonce ${n} is too high, valid nonce is ${o}`,key:"NonceHigh"},checkedKeys:["nonce"]}]},e=>{let{gasPrice:t}=e;return void 0===t||t>=c.MIN_GAS_PRICE?[]:[{message:`Gas price ${t} must be bigger then ${c.MIN_GAS_PRICE}`,key:"MinGasPrice",checkedKeys:["gasPrice"]}]},(e,t)=>{let{ctVersion:n,abiVersion:r}=e,{txType:i,node:o}=t;const{consensusProtocolVersion:s}=o.getNodeInfo(),a=c.PROTOCOL_VM_ABI[s];if(!a)throw new u.x3(`Unsupported protocol: ${s}`);n||(n={abiVersion:r});const l=a[i];return l&&Object.entries(n).some((e=>{let[t,n]=e;return!l[t].includes(+n)}))?[{message:`ABI/VM version ${JSON.stringify(n)} is wrong, supported is: ${JSON.stringify(l)}`,key:"VmAndAbiVersionMismatch",checkedKeys:["ctVersion","abiVersion"]}]:[]},async(e,t)=>{let{contractId:n}=e,{txType:r,node:i}=t;if(c.TX_TYPE.contractCall!==r)return[];try{const{active:e}=await i.api.getContract(n);return e?[]:[{message:`Contract ${n} is not active`,key:"ContractNotActive",checkedKeys:["contractId"]}]}catch(a){var o,s;if(null===(o=a.response)||void 0===o||null===(s=o.body)||void 0===s||!s.reason)throw a;return[{message:a.response.body.reason,key:"ContractNotFound",checkedKeys:["contractId"]}]}}],d=e=>["senderId","accountId","ownerId","callerId","oracleId","fromId","initiator","gaId","payerId"].map((t=>e[t])).filter((e=>e)).map((e=>e.replace(/^ok_/,"ak_")))[0];async function p(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{tx:i,txType:o}=(0,l.unpackTx)(e),s=null!==(n=d(i))&&void 0!==n?n:o===c.TX_TYPE.signed?d(i.encodedTx.tx):null,[u,{height:f}]=await Promise.all([s&&t.api.getAccountByPubkey(s).catch((()=>({id:s,balance:new a.Z(0),nonce:0}))),t.api.getCurrentKeyBlockHeight()]);return(await Promise.all(h.map((e=>e(i,{txType:o,node:t,account:u,height:f,parentTxTypes:r}))))).flat()}},63326:function(e,t,n){"use strict";var r=n(95389);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stamp:t,args:n,instance:r}=arguments.length>1?arguments[1]:void 0;return t.compose.deepConfiguration.AsyncInit.initializers.reduce((async(r,i)=>{if(r=await Promise.resolve(r),"function"===typeof i){const o=await Promise.resolve(i.call(r,e,{stamp:t,args:n,instance:r}));return void 0===o?r:o}return r}),r)}t["Z"]=r({deepConf:{AsyncInit:{initializers:[]}},composers(e){let{stamp:t,composables:n}=e;const r=t.compose.deepConfiguration.AsyncInit;r.initializers=n.map((e=>{var t,n,r;return(null===e||void 0===e||null===(t=e.compose)||void 0===t||null===(n=t.deepConfiguration)||void 0===n||null===(r=n.AsyncInit)||void 0===r?void 0:r.initializers)||(e.compose||e).initializers||[]})).flat(1/0).filter(((e,t,n)=>!n.slice(0,t).includes(e))).filter((e=>e!==i)),t.compose.initializers=[i]}})},91226:function(e,t,n){"use strict";var r=n(89784),i=n(70794);const o=r({storeAsString:!0}),s=e=>{if("object"===typeof e&&null!==e&&e.constructor===Object)return Object.entries(e).map((e=>{let[t,n]=e;return[t,s(n)]})).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r}}),{});if(Array.isArray(e))return e.map((e=>s(e)));if("string"===typeof e&&(0,i.Z)(e).toString(10)===e){const t=(0,i.Z)(e);return t.toJSON=()=>t.toString(10),t}return e};t["Z"]={stringify:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.stringify(s(e),...n)},parse:o.parse}},85573:function(e,t,n){"use strict";function r(e,t,n){const r=e=>e.split(/[-+]/)[0].split(".").map((e=>+e)),i=r(e),o=r(t),s=r(n),a=Math.max(...i,...o,...s)+1,c=e=>e.reverse().reduce(((e,t,n)=>e+t*Math.pow(a,n)),0),l=c(i),u=c(o),f=c(s);return l>=u&&l<f}n.d(t,{Z:function(){return r}})},54370:function(e,t,n){"use strict";var r=n(69885),i=n(74077),o=n(91226),s=n(35196),a=n(34674),c=n(67336);let l=!1;t["Z"]=async function(e){let{spec:t,internalUrl:n,disableBigNumbers:u,disableCaseConversion:f,responseInterceptor:h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||await(await i(e)).json();const d=u?JSON:o.Z,[p,y]=await Promise.all([e,n].map((e=>{if(!e)return null;const n={};return(0,r.Z)({url:e,spec:t,requestInterceptor:e=>{if("GET"===e.method)return{...e,userFetch:async(e,t)=>{var r;const o=JSON.stringify({...t,url:e});null!==(r=n[o])&&void 0!==r||(n[o]=i(e,t));try{return(await n[o]).clone()}finally{delete n[o]}}}},responseInterceptor:e=>{var t;if(""===e.text||0===(null===(t=e.text)||void 0===t?void 0:t.size))return e;const n=d.parse(e.text);return Object.assign(e,{body:f?n:(0,s.H7)(n)}),h&&h(e)||e}})}))),g=Object.assign({},...p.apis.external?[p.apis.external]:Object.values(p.apis),(0,s.Xc)((null===y||void 0===y?void 0:y.apis.internal)||{},(e=>{let[t,n]=e;return[t,function(){return l||(console.warn('SDK\'s wrapper of aeternity node internal API is deprecated, please use external equivalent (for example, "sdk.api.protectedDryRunTxs" instead of "sdk.api.dryRunTxs") or create a wrapper of internal API by yourself (using "genSwaggerClient")'),l=!0),n(...arguments)}]}))),m=Object.values(t.paths).map((e=>Object.values(e))).flat().reduce(((e,t)=>({...e,[t.operationId]:t})),{}),w={},T=(0,s.Xc)(g,(e=>{let[t,n]=e;const r=t.slice(0,1).toLowerCase()+(0,c.fj)(t.slice(1));return[r,async function(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];const l=m[t],u=[...l.parameters,...l.requestBody?[{required:l.requestBody.required,schema:Object.values(l.requestBody.content)[0].schema,name:"__requestBody"}]:[]],h=u.filter((e=>e.required)).map((e=>e.name));if(![0,1].includes(o.length-h.length))throw new a.Av(r,h.length,o.length);const p=h.reduce(((e,t,n)=>({...e,[t]:o[n]})),o[h.length]||{}),{__requestBody:y,__queue:g,...T}=(0,s.Xc)(p,(e=>{let[t,n]=e;if("object"!==typeof n)return[t,n];const r=Object.keys(u.find((e=>e.name===t)).schema.properties),i=(0,s.v7)(f?n:(0,s.I2)(n),(e=>{let[t]=e;return r.includes(t)}));return[t,d.stringify(i)]})),v=async()=>(await n(T,{requestBody:y})).body;if(!g)return v();const x=(null!==(e=w[g])&&void 0!==e?e:Promise.resolve()).then(v,v);return w[g]=x.then((()=>new Promise((e=>setTimeout(e,750))))),x}]}));return Object.assign(p,{api:T})}}}]);
//# sourceMappingURL=277.4976c16c.js.map