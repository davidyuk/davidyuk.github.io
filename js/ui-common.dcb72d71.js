"use strict";(self["webpackChunkaepp_base"]=self["webpackChunkaepp_base"]||[]).push([[700],{1423:function(t,e,n){n.d(e,{Z:function(){return l}});var a=function(t,e){return t("svg",e._g(e._b({staticClass:"icon reload",class:[e.data.class,e.data.staticClass],attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},"svg",e.data.attrs,!1),e.listeners),[t("path",{attrs:{d:"M22.932 14.638a1 1 0 0 1 .068.364V21a1 1 0 0 1-2 0v-3.688l-2.933 2.755a10 10 0 0 1-16.5-3.733 1 1 0 1 1 1.886-.668A8 8 0 0 0 9.229 20.8a8.015 8.015 0 0 0 7.446-2.169l2.8-2.631H16a1 1 0 0 1 0-2h6a1 1 0 0 1 .927.625l.005.013zM.068 9.36A1 1 0 0 1 0 8.996V2.998a1 1 0 0 1 2 0v3.688l2.933-2.755a10 10 0 0 1 16.5 3.733 1 1 0 1 1-1.886.667 8 8 0 0 0-5.776-5.134 8.015 8.015 0 0 0-7.446 2.17l-2.8 2.63H7a1 1 0 1 1 0 2H1a1 1 0 0 1-.927-.625L.068 9.36z"}})])},s=[],i=n(70713),o={},r=(0,i.Z)(o,a,s,!0,null,null,null),l=r.exports},35173:function(t,e,n){n.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("AeButton",{staticClass:"button-add-fixed",class:{mobile:t.$globals.ENV_MOBILE_DEVICE},attrs:{fill:"primary",to:t.to},on:{click:function(e){return t.$emit("click")}}},[e("Plus")],1)},s=[],i=n(37513),o=n(46491),r={components:{AeButton:i.Z,Plus:o.Z},props:{to:{type:[Object,String],default:void 0}}},l=r,u=n(70713),c=(0,u.Z)(l,a,s,!1,null,"0e37f4f4",null),d=c.exports},56774:function(t,e,n){n.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("ListItemCircle",{staticClass:"name-pending"},[e("Reload")],1)},s=[],i=n(97667),o=n(1423),r={components:{ListItemCircle:i.Z,Reload:o.Z}},l=r,u=n(70713),c=(0,u.Z)(l,a,s,!1,null,"512d6b59",null),d=c.exports},11417:function(t,e,n){n.r(e),n.d(e,{default:function(){return Ie}});var a=n(48568),s=n(54893),i=n(69103),o=n(55080),r=function(){var t=this,e=t._self._c;return e("Page",{staticClass:"auction-list",attrs:{fill:"neutral"}},[e("NameListHeader"),e("h2",[t._v(" "+t._s(t.view===t.VIEW_ENDING_SOONEST?t.$t("name.list.ending-soonest-note"):"")+" "+t._s(t.view===t.VIEW_CHARACTER_LENGTH?t.$t("name.list.character-length-note"):"")+" "+t._s(t.view===t.VIEW_MAX_BID?t.$t("name.list.max-bid-note"):"")+" ")]),t.view===t.VIEW_CHARACTER_LENGTH?t._l([1,7],(function(n){return e("ButtonGroup",{key:n},t._l(t.times(6,(t=>t+n)),(function(n){return e("ButtonFlat",{key:n,attrs:{to:{name:"auction-list-character-length",params:{length:n}}}},[t._v(" "+t._s(n)+" ")])})),1)})):t._e(),null===t.auctions?e("AeSpinner"):0===t.auctions.length?e("h2",[t._v(" "+t._s(t.$t("name.list.no-auctions"))+" ")]):[e("AeCard",{attrs:{fill:"maximum"}},t._l(t.auctions,(function(n){return e("ListItemAuction",t._b({key:n.name,attrs:{"subtitle-last-bid":t.view===t.VIEW_MAX_BID,to:{name:"auction-details",params:{name:n.name}}}},"ListItemAuction",n,!1))})),1),t.pagination.length>1?e("div",{staticClass:"pagination"},t._l(t.pagination,(function(n){return e(n.to?"RouterLink":"span",{key:n.text,tag:"Component",attrs:{to:n.to}},[["first","last"].includes(n.text)?e("ArrowDouble",{class:n.text}):[t._v(" "+t._s(n.text)+" ")]],2)})),1):t._e()],e("ButtonAddFixed",{attrs:{to:{name:"name-new"}}})],2)},l=[],u=n(96624),c=(n(57658),n(69885)),d=n(54331),m=n(51335),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"name-list-header"},[e("Guide",[e("em",[t._v(t._s(t.$t("name.title")))])]),e("ButtonGroup",[e("ButtonFlat",{attrs:{to:{name:"auction-list",params:{view:"ending-soonest"}}}},[e("Clock")],1),e("ButtonFlat",{attrs:{to:{name:"auction-list-character-length"}}},[t._v(" 3-4â€¦ ")]),e("ButtonFlat",{attrs:{to:{name:"auction-list",params:{view:"max-bid"}}}},[e("ArrowChart")],1),e("ButtonFlat",{attrs:{to:{name:"name-list"},"highlighted-when-exact-active":""}},[e("Contacts")],1)],1)],1)},h=[],f=n(81572),v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"button-group"},[t._t("default")],2)},g=[],b=n(70713),_={},A=(0,b.Z)(_,v,g,!1,null,"4681951e",null),$=A.exports,w=function(){var t=this,e=t._self._c;return e("ButtonPlain",t._g(t._b({staticClass:"button-flat",class:{"exact-active":t.highlightedWhenExactActive}},"ButtonPlain",t.$attrs,!1),t.$listeners),[t._t("default")],2)},y=[],x=n(22297),B={components:{ButtonPlain:x.Z},props:{highlightedWhenExactActive:Boolean}},I=B,Z=(0,b.Z)(I,w,y,!1,null,"370a5863",null),k=Z.exports,C=function(t,e){return t("svg",e._g(e._b({staticClass:"icon clock",class:[e.data.class,e.data.staticClass],attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},"svg",e.data.attrs,!1),e.listeners),[t("g",{attrs:{transform:"translate(1 1)",stroke:"currentColor","stroke-width":"1.5",fill:"none","fill-rule":"evenodd"}},[t("circle",{attrs:{cx:"9",cy:"9",r:"9"}}),t("path",{attrs:{d:"M8.5 3.5v6M8.5 9.5h6","stroke-linecap":"square"}})])])},E=[],N={},T=(0,b.Z)(N,C,E,!0,null,null,null),L=T.exports,P=function(t,e){return t("svg",e._g(e._b({staticClass:"icon arrow-chart",class:[e.data.class,e.data.staticClass],attrs:{viewBox:"0 0 18 19",xmlns:"http://www.w3.org/2000/svg"}},"svg",e.data.attrs,!1),e.listeners),[t("g",{attrs:{stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"square",fill:"none","fill-rule":"evenodd"}},[t("path",{attrs:{d:"M1.5 1.5v15M1.5 17.5h15M10.5 4.5h3M7.94 10.56l4.95-4.95M14 4.5V8"}})])])},F=[],S={},q=(0,b.Z)(S,P,F,!0,null,null,null),D=q.exports,M=n(31196),G={components:{Guide:f.Z,ButtonGroup:$,ButtonFlat:k,Clock:L,ArrowChart:D,Contacts:M.Z}},H=G,R=(0,b.Z)(H,p,h,!1,null,"524d7f33",null),O=R.exports,V=n(75272),W=n(10555),j=function(){var t=this,e=t._self._c;return e("ListItem",t._g(t._b({attrs:{title:t.name,subtitle:t.subtitle}},"ListItem",t.$attrs,!1),t.$listeners),[e("AeIdenticon",{attrs:{slot:"icon",address:t.info.lastBid.tx.accountId},slot:"icon"}),t._l(Object.keys(t.$slots),(function(e){return t._t(e,null,{slot:e})}))],2)},U=[],X=n(70794),z=n(27606),J=n(34978),K=n(29127),Q=n(42834),Y=t=>{const e=3*t,n=60,a=24*n;return e<n?`~${Q.ag.tc("minutes",Math.round(e))}`:e<a?`~${Q.ag.tc("hours",Math.round(e/n))}`:`~${Q.ag.tc("days",Math.round(e/a))}`},tt=n(26897),et=n(52952),nt={components:{ListItem:tt.Z,AeIdenticon:et.Z},props:{name:{type:String,required:!0},info:{type:Object,required:!0},subtitleLastBid:Boolean},subscriptions(){const{convertAmount:t,topBlockHeight:e}=this.$store.state.observables;return{subtitle:this.$watchAsObservable((({subtitleLastBid:t,info:e})=>({subtitleLastBid:t,info:e})),{immediate:!0}).pipe((0,z.j)("newValue"),(0,J.w)((({subtitleLastBid:n,info:a})=>n?t((()=>new X.Z(a.lastBid.tx.nameFee).shiftedBy(-s.oP))):e.pipe((0,K.U)((t=>`${this.$t("name.expiration")} ${Y(a.auctionEnd-t)}`))))))}}},at=nt,st=(0,b.Z)(at,j,U,!1,null,null,null),it=st.exports,ot=function(t,e){return t("svg",e._g(e._b({staticClass:"icon arrow-double",class:[e.data.class,e.data.staticClass],attrs:{viewBox:"0 0 8 5",xmlns:"http://www.w3.org/2000/svg"}},"svg",e.data.attrs,!1),e.listeners),[t("g",{attrs:{stroke:"currentColor",fill:"none","stroke-linecap":"square"}},[t("path",{attrs:{d:"m4.446.401 2.12 2.122M4.446 4.644l2.12-2.121M1.446.401l2.12 2.122M1.446 4.644l2.12-2.121"}})])])},rt=[],lt={},ut=(0,b.Z)(lt,ot,rt,!0,null,null,null),ct=ut.exports,dt=n(35173);const mt=5,pt="ending-soonest",ht="character-length",ft="max-bid";var vt={components:{Page:m.Z,NameListHeader:O,ButtonGroup:$,ButtonFlat:k,AeSpinner:V.Z,AeCard:W.Z,ListItemAuction:it,ArrowDouble:ct,ButtonAddFixed:dt.Z},props:{view:{type:String,required:!0},page:{type:Number,default:1},length:{type:Number,default:6}},data:()=>({VIEW_ENDING_SOONEST:pt,VIEW_CHARACTER_LENGTH:ht,VIEW_MAX_BID:ft,allAuctions:null}),computed:{pagination(){const t=[],{page:e,pageCount:n}=this;return e>3&&t.push({text:"first",to:1}),e>2&&t.push({text:e-2,to:e-2}),e>1&&t.push({text:e-1,to:e-1}),t.push({text:this.page}),e<n&&t.push({text:e+1,to:e+1}),e<n-1&&t.push({text:e+2,to:e+2}),e<n-2&&t.push({text:"last",to:n}),t.map((t=>({...t,to:t.to&&{name:this.$route.name,params:{...this.$route.params,page:t.to}}})))},auctionsFiltered(){if(!this.allAuctions)return null;const t=[...this.allAuctions];switch(this.view){case pt:return t.sort(((t,e)=>t.info.auctionEnd-e.info.auctionEnd));case ht:return t.filter((({name:t})=>t.length===this.length+s.li.length));case ft:return t.sort(((t,e)=>e.info.lastBid.tx.nameFee-t.info.lastBid.tx.nameFee));default:throw new Error(`Invalid view: ${this.view}`)}},auctions(){return this.auctionsFiltered?this.auctionsFiltered.slice((this.page-1)*mt,this.page*mt):null},pageCount(){return this.auctionsFiltered?Math.ceil(this.auctionsFiltered.length/mt):0}},mounted(){var t=this;return(0,u.coroutine)((function*(){const{state:{sdk:e},getters:{currentNetwork:n}}=t.$store,a=e.then?yield e:e,s=yield a.middleware.api.getAllAuctions({limit:100});let{next:i}=s;t.allAuctions=s.data;while(i){const e=n.middlewareUrl+i,s=a.middleware.responseInterceptor(yield c.Z.serializeRes(yield fetch(e),e)).body;t.allAuctions.push(...s.data),i=s.next}}))()},methods:{times:d.Z}},gt=vt,bt=(0,b.Z)(gt,r,l,!1,null,"2263a09f",null),_t=bt.exports,At=function(){var t=this,e=t._self._c;return e("Page",{attrs:{"header-fill":"light",fill:"neutral","left-button-icon-name":"back","left-button-to":{name:"name-list"},title:t.name}},[null===t.bids?e("AeSpinner"):0===t.bids.length?e("h2",[t._v(" "+t._s(t.$t("name.details.auction-not-found"))+" ")]):[e("h2",[t._v(" "+t._s(t.$t("name.expiration"))+" "+t._s(t.blocksToRelativeTime(t.auctionEnd-t.topBlockHeight))+" ")]),e("h2",[t._v(t._s(t.$t("name.details.current-bid")))]),e("AeCard",{attrs:{fill:"maximum"}},[e("ListItemBid",t._b({attrs:{inactive:""}},"ListItemBid",t.currentBid,!1))],1),t.previousBids.length?[e("h2",[t._v(t._s(t.$t("name.details.previous-bids")))]),e("AeCard",{attrs:{fill:"maximum"}},t._l(t.previousBids,(function(n,a){return e("ListItemBid",t._b({key:`${a}-${n.accountId}`,attrs:{inactive:""}},"ListItemBid",n,!1))})),1)]:t._e()],e("ButtonAddFixed",{attrs:{to:{name:"auction-bid",params:{name:t.name}}}})],2)},$t=[],wt=n(94907),yt=function(){var t=this,e=t._self._c;return e("ListItem",t._g(t._b({attrs:{title:t.formatedNameFee,subtitle:t.name||t.formatAddress(t.accountId),"subtitle-monospace":!t.name}},"ListItem",t.$attrs,!1),t.$listeners),[e("AeIdenticon",{attrs:{slot:"icon",address:t.accountId},slot:"icon"}),t._l(Object.keys(t.$slots),(function(e){return t._t(e,null,{slot:e})}))],2)},xt=[],Bt=n(20629),It=n(49971),Zt={components:{ListItem:tt.Z,AeIdenticon:et.Z},props:{nameFee:{type:X.Z,required:!0},accountId:{type:String,required:!0}},computed:(0,Bt.rn)("names",{name(t,{get:e}){return e(this.accountId)}}),subscriptions(){return{formatedNameFee:this.$watchAsObservable((({nameFee:t})=>t),{immediate:!0}).pipe((0,z.j)("newValue"),(0,J.w)((t=>this.$store.state.observables.convertAmount((()=>t)))))}},methods:{formatAddress:It.Z}},kt=Zt,Ct=(0,b.Z)(kt,yt,xt,!1,null,null,null),Et=Ct.exports,Nt={components:{Page:m.Z,AeSpinner:V.Z,AeCard:W.Z,ListItemBid:Et,ButtonAddFixed:dt.Z},props:{name:{type:String,required:!0}},data:()=>({auctionEnd:0,bids:null}),computed:{currentBid(){return this.bids?.[0]},previousBids(){return this.bids?.slice(1)}},subscriptions(){return(0,wt.Z)(this.$store.state.observables,["topBlockHeight"])},mounted(){const t=setInterval((()=>this.updateAuctionEntry()),3e3);this.$once("hook:destroyed",(()=>clearInterval(t))),this.$watch((({name:t})=>t),(()=>this.updateAuctionEntry()),{immediate:!0})},methods:{updateAuctionEntry(){var t=this;return(0,u.coroutine)((function*(){const e=yield Promise.resolve(t.$store.state.sdk),n=yield e.middleware.api.getNameById(t.name),{auctionEnd:a,bids:i}=n.auction??n.info;t.auctionEnd=a,t.bids=yield Promise.all(i.map(function(){var t=(0,u.coroutine)((function*(t){const{tx:n}=yield e.middleware.api.getTxByIndex(t);return{nameFee:new X.Z(n.nameFee).shiftedBy(-s.oP),accountId:n.accountId}}));return function(e){return t.apply(this,arguments)}}()))}))()},blocksToRelativeTime:Y}},Tt=Nt,Lt=(0,b.Z)(Tt,At,$t,!1,null,null,null),Pt=Lt.exports,Ft=function(){var t=this,e=t._self._c;return e("Page",t._b({staticClass:"auction-bid",attrs:{"header-fill":t.activeColor,"right-button-icon-name":"close","right-button-to":t.name?{name:"auction-details",params:{name:t.name}}:{name:"name-list"}}},"Page",t.amountStep&&{leftButtonIconName:"back",leftButtonTo:t.backTo},!1),[e("template",{slot:"header"},[e("Guide",{attrs:{template:t.$t("name.bid.guide"),fill:"neutral"}},[e("template",{slot:"name"},[t._v(" "+t._s(t.internalName)+" ")])],2),e("form",{attrs:{id:t._uid},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t.amountStep?e("AeInputAmountCurrency",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,decimal:t.MAGNITUDE,min_value_currency:t.lastBid?t.lastBid.multipliedBy(1.05).toString():0},expression:"{\n          required: true,\n          decimal: MAGNITUDE,\n          min_value_currency: lastBid ? lastBid.multipliedBy(1.05).toString() : 0,\n        }"}],attrs:{error:t.errors.has("amount"),footer:t.errors.first("amount")&&t.errors.first("amount").toString()||" ",autofocus:"",name:"amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}):e("AeInputName",{directives:[{name:"validate",rawName:"v-validate",value:"required|aens_name|aens_name_unregistered",expression:"'required|aens_name|aens_name_unregistered'"}],attrs:{autofocus:"",autocomplete:"off",error:t.errors.has("name"),footer:t.errors.first("name"),name:"name",header:t.$t("name.new.name"),placeholder:t.$t("name.new.name-placeholder")},model:{value:t.internalName,callback:function(e){t.internalName=e},expression:"internalName"}})],1)],1),t.lastBid?e("DetailsAmountCurrency",{attrs:{short:"",name:t.$t("name.bid.highest-bid"),amount:t.lastBid}}):t._e(),t.auctionEnd&&t.topBlockHeight?e("DetailsField",{attrs:{name:t.$t("name.bid.remaining-time"),value:t.blocksToRelativeTime(t.auctionEnd-t.topBlockHeight)}}):t._e(),e("AeButton",{attrs:{fill:"secondary",spinner:t.busy,form:t._uid,disabled:t.errors.has("name")||!t.auctionEnd||t.busy}},[t._v(" "+t._s(t.$t("next"))+" ")])],2)},St=[],qt=n(58502),Dt=n(90952),Mt=n(74353),Gt=n(87795),Ht=n(37513),Rt={components:{Page:m.Z,Guide:f.Z,AeInputName:qt.Z,AeInputAmountCurrency:Dt.Z,DetailsAmountCurrency:Mt.Z,DetailsField:Gt.Z,AeButton:Ht.Z},props:{name:{type:String,default:""},amountStep:Boolean},data(){return{busy:!1,internalName:this.name,lastBid:null,auctionEnd:0,amount:"",MAGNITUDE:s.oP}},computed:{...(0,Bt.Se)("accounts",["activeColor"]),backTo(){return this.name||this.auctionEnd?{name:"auction-bid",params:{name:this.auctionEnd?this.internalName:this.name}}:{name:"name-list"}}},subscriptions(){return(0,wt.Z)(this.$store.state.observables,["topBlockHeight"])},mounted(){var t=this;let e;this.$watch((({internalName:t})=>t),(n=>{e&&e.cancel(),e=(0,u.coroutine)((function*(){t.auctionEnd=0,t.lastBid=null;const e=yield Promise.resolve(t.$store.state.sdk),a=yield e.middleware.api.getNameById(n);if("auction"!==a.status)throw new Error(`Unexpected name status: ${a.status}`);const{auctionEnd:i,lastBid:o}=a.auction??a.info;t.auctionEnd=i,t.lastBid=new X.Z(o.tx.nameFee).shiftedBy(-s.oP)}))()}),{immediate:!0})},methods:{handleSubmit(){var t=this;return(0,u.coroutine)((function*(){if(!(yield t.$validator.validateAll()))return;const e=t.internalName;if(t.amountStep){t.busy=!0;try{yield t.$store.state.sdk.aensBid(e,(0,X.Z)(t.amount).shiftedBy(s.oP)),t.$store.dispatch("modals/open",{name:"notification",text:Q.ag.t("name.new.notification.bid",{name:e})}),t.$router.push({name:"auction-details",params:{name:e}})}finally{t.busy=!1}}else t.$router.push({name:"auction-bid-amount",params:{name:e}})}))()},blocksToRelativeTime:Y}},Ot=Rt,Vt=(0,b.Z)(Ot,Ft,St,!1,null,"01522220",null),Wt=Vt.exports,jt=function(){var t=this,e=t._self._c;return e("Page",{attrs:{fill:"neutral"}},[e("NameListHeader"),e("h2",[t._v(t._s(t.$t("name.list.personal-note")))]),e("p",[t._v(t._s(t.$t("name.list.personal-explanation")))]),t.owned&&t.owned.names.length?[e("h2",[t._v(t._s(t.$t("name.list.registered")))]),e("AeCard",{attrs:{fill:"maximum"}},t._l(t.owned.names,(function(n){return e("ListItemAccount",{key:n.name,attrs:{address:n.accountId||n.info.ownership.current,name:n.name,to:{name:"name-details",params:{name:n.name}},subtitle:"address"}},[n.pending?e("NamePending",{attrs:{slot:"right"},slot:"right"}):t._e()],1)})),1)]:t._e(),t.owned&&t.owned.bids.length?[e("h2",[t._v(t._s(t.$t("name.list.active-bids")))]),e("AeCard",{attrs:{fill:"maximum"}},t._l(t.owned.bids,(function(t){return e("ListItemAccount",{key:t.name,attrs:{name:t.name,balance:t.nameFee,address:(t.auction||t.info).lastBid.tx.accountId,to:{name:"auction-details",params:{name:t.name}}}})})),1)]:t._e(),e("ButtonAddFixed",{attrs:{to:{name:"name-new"}}})],2)},Ut=[],Xt=n(60602),zt=n(56774),Jt={components:{Page:m.Z,NameListHeader:O,AeCard:W.Z,ListItemAccount:Xt.Z,NamePending:zt.Z,ButtonAddFixed:dt.Z},computed:(0,Bt.rn)("names",["owned"]),mounted(){var t=this;return(0,u.coroutine)((function*(){const e=()=>t.$store.dispatch("names/fetchOwned");yield e();const n=setInterval(e,3e3);t.$once("hook:destroyed",(()=>clearInterval(n)))}))()}},Kt=Jt,Qt=(0,b.Z)(Kt,jt,Ut,!1,null,null,null),Yt=Qt.exports,te=function(){var t=this,e=t._self._c;return e("Page",{staticClass:"name-details",attrs:{title:t.$t("name.details.title"),"left-button-icon-name":"back","left-button-to":{name:"name-list"}}},[e("DetailsList",{attrs:{object:t.details,"field-renderers":t.fieldRenderers}}),e("AeButton",{attrs:{disabled:t.isDefaultName||!t.address},on:{click:t.setAsDefaultName}},[t._v(" "+t._s(t.$t("name.details.set-default"))+" ")]),e("AeButton",{attrs:{disabled:!t.address},on:{click:t.extendName}},[t._v(" "+t._s(t.$t("name.details.to-extend"))+" ")]),e("AeButton",{attrs:{to:{name:"name-point",params:{name:t.name}}}},[t._v(" "+t._s(t.$t("name.details.to-point"))+" ")]),e("AeButton",{attrs:{to:{name:"name-transfer",params:{name:t.name}}}},[t._v(" "+t._s(t.$t("name.details.to-transfer"))+" ")]),e("AeButton",{on:{click:t.goToTransactionDetails}},[t._v(" "+t._s(t.$t("name.details.to-transactions"))+" ")])],1)},ee=[],ne=n(9148),ae=n(72371),se=n(15237),ie=n(22400),oe=n(32284),re={components:{Page:m.Z,DetailsList:ae.Z,AeButton:Ht.Z},filters:{prefixedAmount:ne.Z},props:{name:{type:String,required:!0}},data:()=>({fieldRenderers:{name:se.VG,nameHash:se.WF,owner:se.xA,createdAtHeight:se.Ob,expiresAt:se.IX,pointers:oe.Z}}),computed:{address(){return(0,ie.eE)(this.details)},...(0,Bt.Se)(["currentNetwork"]),...(0,Bt.rn)("names",{details({owned:t}){const e=t&&t.names.find((({name:t})=>t===this.name));return{...e,owner:e.accountId??e.info.ownership.current}},isDefaultName(t,{getDefault:e}){return this.address&&this.name===e(this.address)}})},mounted(){var t=this;return(0,u.coroutine)((function*(){const e=setInterval((()=>t.$store.dispatch("names/fetchOwned")),3e3);t.$once("hook:destroyed",(()=>clearInterval(e)))}))()},methods:{setAsDefaultName(){this.$store.dispatch("names/setDefault",{name:this.name,address:this.address})},extendName(){var t=this;return(0,u.coroutine)((function*(){const e=t.$store.state.accounts.activeIdx,n=t.$store.state.accounts.list.findIndex((({address:e})=>e===t.details.info.ownership.current));e!==n&&t.$store.commit("accounts/setActiveIdx",n),yield t.$store.dispatch("names/updatePointer",{name:t.name,address:t.address}),e!==n&&t.$store.commit("accounts/setActiveIdx",e)}))()},goToTransactionDetails(){var t=this;return(0,u.coroutine)((function*(){const{hash:e}=yield t.$store.state.sdk.middleware.api.getTxByIndex(t.details.info.claims[0]);yield t.$router.push(window.navigator.userAgent.includes("Mobi")?{name:"transaction-details",params:{hash:e}}:`${t.currentNetwork.explorerUrl}/transactions/${e}`)}))()}}},le=re,ue=(0,b.Z)(le,te,ee,!1,null,"2668fb8a",null),ce=ue.exports,de=function(){var t=this,e=t._self._c;return e("Page",{attrs:{"header-fill":t.activeColor,"right-button-icon-name":"close","right-button-to":{name:"name-list"}}},[e("template",{slot:"header"},[e("Guide",{attrs:{template:t.$t("name.new.guide"),fill:"neutral"}},[e("AccountInline",{attrs:{slot:"inlineAccount",address:t.active.address},slot:"inlineAccount"})],1),e("form",{attrs:{id:t._uid},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("AeInputName",{directives:[{name:"validate",rawName:"v-validate",value:"required|aens_name|aens_name_unregistered",expression:"'required|aens_name|aens_name_unregistered'"}],attrs:{autofocus:"",autocomplete:"off",error:t.errors.has("name")||t.error,footer:t.errors.first("name")||(t.error?t.$t("name.new.unknown-error"):""),disabled:t.busy,name:"name",header:t.$t("name.new.name"),placeholder:t.$t("name.new.name-placeholder")},on:{input:function(e){t.error=!1}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),e("AeButton",{attrs:{fill:"secondary",form:t._uid,spinner:t.busy,disabled:t.busy||t.errors.has("name")||t.error}},[t._v(" "+t._s(t.$t("name.new.register"))+" ")])],2)},me=[],pe=n(64844),he={components:{Page:m.Z,Guide:f.Z,AeInputName:qt.Z,AccountInline:pe.Z,AeButton:Ht.Z},data:()=>({name:"",busy:!1,error:!1}),computed:(0,Bt.Se)("accounts",["active","activeColor"]),methods:{handleSubmit(){var t=this;return(0,u.coroutine)((function*(){if(!(yield t.$validator.validateAll()))return;let e;t.busy=!0;try{const{status:e}=yield t.$store.state.sdk.middleware.api.getNameById(t.name);if("auction"===e)return yield t.$store.dispatch("modals/open",{name:"confirm",text:t.$t("name.new.confirm-bidding",{name:t.name})}),void t.$router.push({name:"auction-bid-amount",params:{name:t.name}})}catch(n){if("Cancelled by user"===n.message)return void(t.busy=!1);(0,ie.XD)(n)||(0,ie.ac)(n)}try{const{salt:n}=yield t.$store.state.sdk.aensPreclaim(t.name);e=(yield t.$store.state.sdk.aensClaim(t.name,n,{waitMined:!1})).hash,t.$store.dispatch("modals/open",{name:"notification",text:t.$t("name.new.notification.claim-sent",{name:t.name})}),t.$router.push({name:"name-list"})}catch(n){if("Rejected by user"===n.message)return;t.error=!0,(0,ie.ac)(n)}finally{t.busy=!1}try{t.$store.dispatch("names/fetchOwned"),yield t.$store.state.sdk.poll(e);const n=s.bp>=t.name.length;n||(yield t.$store.dispatch("names/updatePointer",{name:t.name,address:t.$store.getters["accounts/active"].address})),t.$store.dispatch("modals/open",{name:"notification",text:n?Q.ag.t("name.new.notification.bid",{name:t.name}):Q.ag.t("name.new.notification.registered",{name:t.name})})}catch(n){if("Rejected by user"===n.message)return;t.$store.dispatch("modals/open",{name:"notification",text:Q.ag.t("name.new.notification.unknown-error",{name:t.name})}),(0,ie.ac)(n)}finally{t.$store.dispatch("names/fetchOwned")}}))()}}},fe=he,ve=(0,b.Z)(fe,de,me,!1,null,null,null),ge=ve.exports,be=function(){var t=this,e=t._self._c;return e("Page",{staticClass:"name-transfer",attrs:{"right-button-to":{name:"name-details",params:{name:t.name}},"right-button-icon-name":"close","header-fill":t.activeColor,"hide-tab-bar":""}},[e("template",{slot:"header"},[e("Guide",{attrs:{template:t.pointing?t.$t("name.point.guide"):t.$t("name.transfer.guide"),fill:"neutral"}},[e("AccountInline",{attrs:{slot:"account",address:t.activeAccount.address},slot:"account"})],1),e("form",{attrs:{id:t._uid},on:{submit:function(e){return e.preventDefault(),t.transfer.apply(null,arguments)}}},[e("AeInputAccount",{directives:[{name:"validate",rawName:"v-validate",value:"required|account",expression:"'required|account'"}],attrs:{autofocus:"",error:t.errors.has("accountTo"),footer:t.errors.first("accountTo"),name:"accountTo",header:t.$t("transfer.send.to.recipient")},model:{value:t.accountTo,callback:function(e){t.accountTo=e},expression:"accountTo"}})],1)],1),e("AeButton",{attrs:{disabled:t.busy||t.errors.any(),spinner:t.busy,form:t._uid,fill:"secondary"}},[t._v(" "+t._s(t.$t("next"))+" ")]),!t.busy&&t.accountsToChoose.length?[e("div",{staticClass:"own-account"},[t._v(" "+t._s(t.pointing?t.$t("name.point.subaccount"):t.$t("name.transfer.subaccount"))+" ")]),t._l(t.accountsToChoose,(function(n){return e("ListItemAccount",t._b({key:n.address,attrs:{"border-dark":""},on:{click:function(e){return t.transferToAccount(n.address)}}},"ListItemAccount",n,!1),[e("LeftMore",{attrs:{slot:"right"},slot:"right"})],1)}))]:t._e()],2)},_e=[],Ae=n(64550),$e=n(73142),we={components:{Page:m.Z,Guide:f.Z,AccountInline:pe.Z,AeInputAccount:Ae.Z,AeButton:Ht.Z,ListItemAccount:Xt.Z,LeftMore:$e.Z},props:{pointing:Boolean,name:{type:String,required:!0}},data:()=>({accountTo:"",busy:!1}),computed:{...(0,Bt.rn)("names",{nameEntry({owned:t}){return t&&t.names.find((({name:t})=>t===this.name))}}),...(0,Bt.Se)("accounts",{activeAccount:"active",activeColor:"activeColor"}),currentAccountAddress(){return this.pointing?(0,ie.eE)(this.nameEntry):this.activeAccount.address}},subscriptions(){return{accountsToChoose:this.$store.state.observables.getAccounts((({accounts:{list:t}})=>t.filter((({address:t})=>t!==this.currentAccountAddress))))}},mounted(){const t=this.$store.state.accounts.activeIdx,e=this.$store.state.accounts.list.findIndex((({address:t})=>t===this.nameEntry.info.ownership.current));t!==e&&(this.$store.commit("accounts/setActiveIdx",e),this.$once("hook:destroyed",(()=>this.$store.commit("accounts/setActiveIdx",t))))},methods:{transferToAccount(t){this.accountTo=t,this.transfer()},transfer(){var t=this;return(0,u.coroutine)((function*(){if(yield t.$validator.validateAll()){t.currentAccountAddress===t.accountTo&&(yield t.$store.dispatch("modals/open",{name:"confirm",text:t.pointing?t.$t("name.point.confirm-pointing-to-same-account"):t.$t("name.transfer.confirm-transfering-to-same-account")})),t.busy=!0;try{yield t.pointing?t.$store.dispatch("names/updatePointer",{name:t.name,address:t.accountTo}):t.$store.state.sdk.aensTransfer(t.nameEntry.name,t.accountTo),t.$store.dispatch("modals/open",{name:"notification",text:t.pointing?t.$t("name.point.notification.succeed",{name:t.name}):t.$t("name.transfer.notification.succeed",{name:t.name})}),t.$router.push({name:"name-details",params:{name:t.name}})}catch(e){if("Rejected by user"===e.message)return;t.$store.dispatch("modals/open",{name:"notification",text:t.pointing?t.$t("name.point.notification.failed",{name:t.name}):t.$t("name.transfer.notification.failed",{name:t.name})}),(0,ie.ac)(e)}finally{t.busy=!1}}}))()}}},ye=we,xe=(0,b.Z)(ye,be,_e,!1,null,"4d6f9259",null),Be=xe.exports,Ie=[{name:"auction-list-character-length",path:"/names/character-length/:length?/:page?",component:_t,beforeEnter:(0,i.E)(i.q,((t,e,n)=>n(t.params.length?void 0:(0,a.Z)({},t,{params:{length:6}})))),props:({params:{length:t,page:e}})=>({length:t&&+t,page:e&&+e,view:"character-length"})},{name:"auction-details",path:"/names/auction/:name",component:Pt,beforeEnter:i.q,props:!0},{name:"name-list",path:"/names",component:Yt,beforeEnter:(0,i.E)(i.q,((t,e,n)=>{if(s.Mc.includes(e.name))return n(void 0);const{nameListRouteParams:a}=o["default"].state;return a&&"name-list"===a.name?n(void 0):n(a||void 0)}))},{name:"name-details",path:"/names/personal/:name",component:ce,beforeEnter:i.q,props:!0},{name:"name-point",path:"/names/personal/:name/point",component:Be,beforeEnter:i.q,props:({params:t})=>({...t,pointing:!0})},{name:"name-transfer",path:"/names/personal/:name/transfer",component:Be,beforeEnter:i.q,props:!0},{name:"auction-bid",path:"/names/bid/:name?",component:Wt,beforeEnter:i.q,props:!0},{name:"auction-bid-amount",path:"/names/bid/:name/amount",component:Wt,beforeEnter:i.q,props:({params:t})=>({...t,amountStep:!0})},{name:"name-new",path:"/names/new",component:ge,beforeEnter:i.q},{name:"auction-list",path:"/names/:view/:page?",component:_t,beforeEnter:i.q,props:({params:{view:t,page:e}})=>({view:t,page:e&&+e})}]}}]);
//# sourceMappingURL=ui-common.dcb72d71.js.map